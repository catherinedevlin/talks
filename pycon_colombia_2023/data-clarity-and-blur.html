<!DOCTYPE html>
<html lang="en"><head>
<script src="data-clarity-and-blur_files/libs/clipboard/clipboard.min.js"></script>
<script src="data-clarity-and-blur_files/libs/quarto-html/tabby.min.js"></script>
<script src="data-clarity-and-blur_files/libs/quarto-html/popper.min.js"></script>
<script src="data-clarity-and-blur_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="data-clarity-and-blur_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="data-clarity-and-blur_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="data-clarity-and-blur_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="data-clarity-and-blur_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.340">

  <meta name="author" content="Catherine Devlin">
  <meta name="dcterms.date" content="2023-06-09">
  <title>Data: Clarity and Blur</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="data-clarity-and-blur_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="data-clarity-and-blur_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="data-clarity-and-blur_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="data-clarity-and-blur_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="data-clarity-and-blur_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="data-clarity-and-blur_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="data-clarity-and-blur_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Data: Clarity and Blur</h1>
  <p class="subtitle">PyCon Colombia 2023</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Catherine Devlin 
</div>
</div>
</div>

  <p class="date">2023-06-09</p>
</section>
<section class="slide level2">


<img data-src="img/pycon-colombia.svg" class="r-stretch"><p>https://github.com/catherinedevlin/talks/</p>
<aside class="notes">
<p>Me disculpo porque solo sé un poco de español. Si desea hablar conmigo en español, maravilloso. Por favor, hable muy despacio y utilice grandes gestos.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<p><span class="citation" data-cites="catherinedevlin">@catherinedevlin</span><span class="citation" data-cites="tech.lgbt">@tech.lgbt</span></p>
<p>Chelnik, the PostgreSQL elephant</p>

<img data-src="img/chelnik.jpg" alt="Small crocheted blue elephant" class="r-stretch quarto-figure-center"><aside class="notes">
<p>No relation to Travis Oliphant</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section>
<section id="quipu" class="title-slide slide level1 center">
<h1><a href="https://essentials.neh.gov/projects/quipus-inca-language-knots">Quipu</a></h1>

<img data-src="https://essentials.neh.gov/sites/default/files/quipu_v1.jpg" alt="quipu" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Decimal system</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="data-comes-first" class="slide level2">
<h2><a href="https://www.bbc.com/news/business-39870485">Data comes first</a></h2>

<img data-src="https://ichef.bbci.co.uk/news/976/cpsprodpb/D5AA/production/_96089645_hi039302263.jpg.webp" alt="cuneiform tablet" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Writing down stories, laws, prose… optional</p>
<p>Recording data: mandatory</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="type-int" class="slide level2">
<h2><a href="https://www.nature.com/articles/d41586-021-01429-6">type: int</a></h2>

<img data-src="img/bone.png" alt="notched piece of bone" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Or not so advanced</p>
<p>60,000 years ago, Neanderthal</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="so-where-is-it" class="slide level2">
<h2>So where is it?</h2>

<img data-src="img/beginners-guide.png" alt="Python Beginners' Guide" class="r-stretch quarto-figure-center"><aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="zen-violation" class="slide level2">
<h2>Zen violation</h2>
<blockquote>
<p>There should be one– and preferably only one –obvious way to do it.</p>
</blockquote>
<aside class="notes">
<p>There are lots of ways. And frankly none of them is obvious.</p>
<p>On-your-own learning</p>
<p>You may study, or stumble into, one technique</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="clarity-and-blur" class="title-slide slide level1 center">
<h1>Clarity and blur</h1>
<p>Clarity: about categories</p>
<p>Blur: between categories</p>
<aside class="notes">
<p>Clarity: what makes tecniques and approaches and technologies different</p>
<p>Blur: Boundaries</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section>
<section id="relationships" class="title-slide slide level1 center">
<h1>Relationships</h1>
<table style="width:40%;">
<colgroup>
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 11%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>diám_km</td>
<td>dia_d</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra Marte Júpiter</td>
<td>4878 12100 12756 6794 142800</td>
<td>58.65 243.0 1.0 1.03 0.41</td>
</tr>
</tbody>
</table>
<p>Data from <a href="https://www.rmg.co.uk/stories/topics/solar-system-data">Royal Museums Greenwich</a></p>
<aside class="notes">
<p>“Table” with “Rows”</p>
<p>“Relation” with “tuples”</p>
<p>Why?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="not-data" class="slide level2">
<h2>Not data</h2>
<p>Venus</p>
<p>224.7 días</p>
</section>
<section id="now-its-data" class="slide level2">
<h2>Now it’s data</h2>
<p>Venus <strong>orbita alrededor del sol en</strong> 224,7 días.</p>
<aside class="notes">
<p>Meaning comes from relationship</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="table-tells-us-the-relationships" class="slide level2">
<h2>Table tells us the relationships</h2>
<table style="width:40%;">
<colgroup>
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 11%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>diám_km</td>
<td>dia_d</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra Marte Júpiter</td>
<td>4878 12100 12756 6794 142800</td>
<td>58.65 243.0 1.0 1.03 0.41</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>That’s what a table is <em>for</em> - it tells us how the elements of the data relate</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="shapes-of-relationships" class="title-slide slide level1 center">
<h1>Shapes of relationships</h1>
<aside class="notes">
<p>Is a rectangular table right?</p>
<p>No single answer</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="keyvalue" class="slide level2">
<h2>Key:Value</h2>

<img data-src="img/phonebook.jpg" alt="phone book listings" class="r-stretch"><aside class="notes">
<p>Key: string, or at least hashable</p>
<p>Value: simple or complex</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="key-value-access" class="slide level2">
<h2>Key-value access</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> dbm</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> dbm.<span class="bu">open</span>(<span class="st">'período_sideral_d.dbm'</span>, <span class="st">'c'</span>) <span class="im">as</span> db:</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    db[<span class="st">'Marte'</span>] <span class="op">=</span> <span class="bu">str</span>(<span class="fl">686.98</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> dbm.<span class="bu">open</span>(<span class="st">'período_sideral_d.dbm'</span>) <span class="im">as</span> db:</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(db[<span class="st">'Marte'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>b'686.98'</code></pre>
<aside class="notes">
<p>Implementations fast and simple</p>
<p>Correspondence to dicts is great: “querying” is simply referring to a key</p>
<p>Stores byte strings - you could use JSON to serialize complex data into it, but you’d have to serialize and deserialize</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="shelve" class="slide level2">
<h2>Shelve</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shelve</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> shelve.<span class="bu">open</span>(<span class="st">'planetas_shelf'</span>) <span class="im">as</span> db:</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    db[<span class="st">'Marte'</span>] <span class="op">=</span> {<span class="st">'diám_km'</span>: <span class="dv">6794</span>, <span class="st">'año_d'</span>: <span class="fl">686.98</span>}</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(db[<span class="st">'Marte'</span>][<span class="st">'diám_km'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>6794</code></pre>
<aside class="notes">
<p>Shelve does that for you</p>
<p>Values store python objects, incl composites</p>
<p>Simplest document database -</p>
<p>“document”: case refers to the kind of structure that is represented</p>
<p>Still query by key</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="procedural-query" class="slide level2">
<h2>Procedural “query”</h2>
<p><a href="data/planetas.json">planetas.json</a></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> shelve.<span class="bu">open</span>(<span class="st">'planetas.shelve.db'</span>) <span class="im">as</span> db:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> planeta, planeta_info <span class="kw">in</span> db.items():</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> luna <span class="kw">in</span> planeta_info[<span class="st">'lunas'</span>]:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (luna[<span class="st">'diám_km'</span>] <span class="kw">or</span> <span class="dv">0</span>) <span class="op">&gt;</span> <span class="dv">2000</span>:</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span> (planeta, luna[<span class="st">'nombre'</span>], luna[<span class="st">'diám_km'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>[('Saturno', 'Titán', 5150.0),
('Tierra', 'Luna', 3476.0),
('Júpiter', 'Io', 3652.0),
('Júpiter', 'Europa', 3138.0),
('Júpiter', 'Ganímedes', 5262.0),
('Júpiter', 'Calisto', 4800.0),
('Neptuno', 'Tritón', 3500.0)]</code></pre>
<aside class="notes">
<p>Pull everything into memory, apply Python</p>
<p>You don’t have to learn anything</p>
<p>bulky, slow</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="document-query-dsls" class="slide level2">
<h2>Document query DSLs</h2>
<p>MongoDB query-by-example</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>db.planetas.find({<span class="st">'diám_km'</span>: {<span class="st">'$gt'</span>: <span class="dv">10000</span>},</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'año_d'</span>: {<span class="st">'$lt'</span>: <span class="dv">500</span>}}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Elastic query <img data-src="img/elastic-query.png" alt="Sample Elastic query"></p>
</section>
<section id="jq" class="slide level2">
<h2>jq</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>jq.<span class="bu">compile</span>(<span class="st">'.[] | {nombre: .nombre, mes: [.lunas[]?.rev_d]}'</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>        ).<span class="bu">input</span>(sistema_solar).<span class="bu">all</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>[{'nombre': 'Mercurio', 'mes': []},
{'nombre': 'Venus', 'mes': []},
{'nombre': 'Tierra', 'mes': [27.322]},
{'nombre': 'Marte', 'mes': [0.319, 1.262]},
{'nombre': 'Júpiter',
'mes': [0.295, 0.298, 0.498, 0.675, ...</code></pre>
<aside class="notes">
<p>Independent DSL for navigating structures</p>
<p>like a JSON file, or a document</p>
<p>Py libaries</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="rectangles" class="slide level2">
<h2>Rectangles</h2>
<table style="width:40%;">
<colgroup>
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 11%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>diám_km</td>
<td>dia_d</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra Marte Júpiter</td>
<td>4878 12100 12756 6794 142800</td>
<td>58.65 243.0 1.0 1.03 0.41</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>Intuitive and omnipresent.</p>
<p>Spreadsheets</p>
<p>Clipboard with a sign-up form</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dataframes" class="slide level2">
<h2>Dataframes</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>planetas <span class="op">=</span> pd.read_csv(<span class="st">'planetas.csv'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>planetas.loc[<span class="st">'Marte'</span>, <span class="st">'año_d'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>686.98</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>planetas[planetas.año_d <span class="op">&gt;</span> <span class="dv">1000</span>] <span class="op">\</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    [[<span class="st">'máx_ua'</span>, <span class="st">'diám_km'</span>, <span class="st">'año_d'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">máx_ua</th>
<th style="text-align: right;">diám_km</th>
<th style="text-align: right;">año_d</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Júpiter</td>
<td style="text-align: right;">5.45</td>
<td style="text-align: right;">142800</td>
<td style="text-align: right;">4331.86</td>
</tr>
<tr class="even">
<td style="text-align: left;">Saturno</td>
<td style="text-align: right;">10.07</td>
<td style="text-align: right;">120000</td>
<td style="text-align: right;">10760.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Urano</td>
<td style="text-align: right;">20.09</td>
<td style="text-align: right;">52400</td>
<td style="text-align: right;">30684.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Neptuno</td>
<td style="text-align: right;">30.32</td>
<td style="text-align: right;">48400</td>
<td style="text-align: right;">60189.5</td>
</tr>
</tbody>
</table>
<p>Pandas, Polars, agate, Dask, Ray, Modin, <a href="https://github.com/jcmkk3/awesome-dataframes">more</a></p>
<aside class="notes">
<p>DataFrame object that supports LOTS of methods</p>
<p>Also repurposes square-bracket syntax for location and filtering</p>
<p>Familiar to Python folks</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="joins-why" class="slide level2">
<h2>Joins: why</h2>
<table style="width:38%;">
<colgroup>
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 9%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>masa_t</td>
<td>luna</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra</td>
<td>0.06 0.82 1.0</td>
<td>None None Luna</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>The problem with rectangular storage is that data often doesn’t really fit that shape.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="uh-oh" class="slide level2">
<h2>uh-oh</h2>
<table style="width:53%;">
<colgroup>
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>masa_t</td>
<td>luna_1</td>
<td>luna_2</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra Marte</td>
<td>0.06 0.82 1.0 0.11</td>
<td>None None Luna Deimos</td>
<td>None None Luna Deimos</td>
</tr>
</tbody>
</table>
</section>
<section id="denormalized" class="slide level2">
<h2>denormalized</h2>
<table style="width:40%;">
<colgroup>
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>masa_t</td>
<td>luna</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra Marte Marte</td>
<td>0.06 0.82 1.0 0.11 0.11</td>
<td>None None Luna Deimos Fobos</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>Use repetition to cover over mismatch between rectangles and shape</p>
<p>Bulk Inconsistency danger</p>
<p>Is it so bad?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="si-es-tan-mala" class="slide level2">
<h2>Si, es tan mala</h2>
<table style="width:44%;">
<colgroup>
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 16%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>masa_t</td>
<td>luna</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra Marte Marte Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter Júpiter</td>
<td>0.06 0.82 1.0 0.11 0.11 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89 317.89</td>
<td>None None Luna Deimos Fobos Adrastea Amaltea Ananké Calisto Carmen Elara Europa Ganímedes Himalaya Io Leda Lisitia Metis Pasifae Sinope Thebe</td>
</tr>
</tbody>
</table>
</section>
<section id="normalize" class="slide level2">
<h2>Normalize</h2>
<table style="width:28%;">
<colgroup>
<col style="width: 15%">
<col style="width: 12%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>masa_t</td>
</tr>
<tr class="even">
<td>Mercurio Venus Tierra Marte</td>
<td>0.06 0.82 1.0 0.11</td>
</tr>
</tbody>
</table>
<table style="width:31%;">
<colgroup>
<col style="width: 16%">
<col style="width: 13%">
</colgroup>
<tbody>
<tr class="odd">
<td>nombre</td>
<td>planeta</td>
</tr>
<tr class="even">
<td>Luna Fobos Deimos</td>
<td>Tierra Marte Marte</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>More elegant, but joining can be hard, too.</p>
<p>You’ve lost the business users.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="joining-dataframes" class="slide level2">
<h2>Joining DataFrames</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>lunas.join(planetas, <span class="st">'planeta'</span>, lsuffix<span class="op">=</span><span class="st">'_l'</span>, rsuffix<span class="op">=</span><span class="st">'_p'</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>            )[[<span class="st">'planeta'</span>, <span class="st">'masas_t'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">planeta</th>
<th style="text-align: right;">masas_t</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Luna</td>
<td style="text-align: left;">Tierra</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fobos</td>
<td style="text-align: left;">Marte</td>
<td style="text-align: right;">0.11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Deimos</td>
<td style="text-align: left;">Marte</td>
<td style="text-align: right;">0.11</td>
</tr>
<tr class="even">
<td style="text-align: left;">Metis</td>
<td style="text-align: left;">Júpiter</td>
<td style="text-align: right;">317.89</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adrastea</td>
<td style="text-align: left;">Júpiter</td>
<td style="text-align: right;">317.89</td>
</tr>
<tr class="even">
<td style="text-align: left;">Amaltea</td>
<td style="text-align: left;">Júpiter</td>
<td style="text-align: right;">317.89</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Thebe</td>
<td style="text-align: left;">Júpiter</td>
<td style="text-align: right;">317.89</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>We still have repetition… it’s just generated on-the-fly</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sql" class="slide level2">
<h2>SQL</h2>
<pre><code>SELECT p.nombre AS planeta,
    p.diám_km AS planeta_d_km,
    l.nombre AS luna,
    l.diámetro_media_km AS luna_d_km
FROM   Planetas p
JOIN   lunas l ON (l.planeta = p.nombre)
WHERE  l.diámetro_media_km &gt; 2000</code></pre>
<table style="width:68%;">
<colgroup>
<col style="width: 13%">
<col style="width: 20%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<tbody>
<tr class="odd">
<td>planeta</td>
<td>planeta_d_km</td>
<td>luna</td>
<td>luna_d_km</td>
</tr>
<tr class="even">
<td>Tierra Júpiter Júpiter Júpiter Júpiter Saturno Neptuno</td>
<td>12756 142800 142800 142800 142800 120000 48400</td>
<td>Luna Io Europa Ganímedes Calisto Titán Tritón</td>
<td>3476.0 3652.0 3138.0 5262.0 4800.0 5150.0 3500.0</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>SQL handles those joins mentioned before</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="documents-too" class="slide level2">
<h2>Documents too</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>planetas[<span class="st">'Tierra'</span>][<span class="st">'atmosfero'</span>] <span class="op">=</span> [{<span class="st">'molecule'</span>: <span class="st">'N2'</span>, <span class="st">'mw_amu'</span>: <span class="dv">28</span>}, </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>                                   {<span class="st">'molecule'</span>: <span class="st">'O2'</span>, <span class="st">'mw_amu'</span>: <span class="dv">32</span>}, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                                   {<span class="st">'molecule'</span>: <span class="st">'CO2'</span>, <span class="st">'mw_amu'</span>: <span class="dv">44</span>}]</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>planetas[<span class="st">'Marte'</span>][<span class="st">'atmosfero'</span>] <span class="op">=</span> [ </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                                   {<span class="st">'molecule'</span>: <span class="st">'CO2'</span>, <span class="st">'mw_amu'</span>: <span class="dv">44</span>}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Freeform - represent arbitrary data shape</p>
<p>But tradeoff b/t repetition and joining remains</p>
<p>Not such consensus of how to express joins in a document structure</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="raw-sql-from-python" class="slide level2">
<h2>Raw SQL from Python</h2>
<ul>
<li><a href="https://cewing.github.io/training.codefellows/lectures/day21/intro_to_dbapi2.html">DB-API2</a></li>
<li><a href="https://github.com/kennethreitz/records">Records</a> by Kenneth Reitz</li>
</ul>

<img data-src="img/records.png" alt="Records repo" class="r-stretch"></section>
<section id="orms" class="slide level2">
<h2>ORMs</h2>
<p>Object-Relational Mappers</p>
<aside class="notes">
<p>Famous… often assumed</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre><code>engine = sa.create_engine('sqlite:///planetas.db')
with sa.orm.Session(engine) as session:
    stmt = sa.select(Planeta).where(Planeta.diám_km &lt; 50000)
    for planeta in session.execute(stmt).scalars():
        for luna in planeta.lunas:
            print(f'{luna.nombre} orbita a {planeta.nombre} '
                f'en posición {luna.pos}')

Luna orbita a Tierra en posición I
Fobos orbita a Marte en posición I
Deimos orbita a Marte en posición II
Náyade orbita a Neptuno en posición III
Thalassa orbita a Neptuno en posición IV
Despina orbita a Neptuno en posición V
Galatea orbita a Neptuno en posición VI
Larisa orbita a Neptuno en posición VII
Proteo orbita a Neptuno en posición VIII
Tritón orbita a Neptuno en posición I
Nereida orbita a Neptuno en posición II
Caronte orbita a Plutón en posición I</code></pre>
<aside class="notes">
<p>You can work with instances through an ORM pretty much like they were any other Python objects. Instead of having to think about the joins between related tables, you can navigate between related objects as attributes of the instances.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="boilerplate" class="slide level2">
<h2>Boilerplate</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Base(DeclarativeBase):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Planeta(Base):</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    __tablename__ <span class="op">=</span> <span class="st">"planetas"</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    nombre: Mapped[<span class="bu">str</span>] <span class="op">=</span> mapped_column(primary_key<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    mín_ua: Mapped[<span class="bu">float</span>] <span class="op">=</span> mapped_column(Float)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    máx_ua: Mapped[Optional[<span class="bu">float</span>]] <span class="op">=</span> mapped_column(Float, nullable<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    mín_ua: Mapped[Optional[<span class="bu">float</span>]] <span class="op">=</span> mapped_column(Float, nullable<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    incl_orb_g: Mapped[Optional[<span class="bu">float</span>]] <span class="op">=</span> mapped_column(Float, nullable<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    diám_km: Mapped[<span class="bu">int</span>] <span class="op">=</span> mapped_column(Integer)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    obl: Mapped[<span class="bu">float</span>] <span class="op">=</span> mapped_column(Float)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    masas_t: Mapped[<span class="bu">float</span>] <span class="op">=</span> mapped_column(Float)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    incl_g: Mapped[<span class="bu">int</span>] <span class="op">=</span> mapped_column(Integer)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    año_d: Mapped[Optional[<span class="bu">float</span>]] <span class="op">=</span> mapped_column(Float, nullable<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    día_h: Mapped[<span class="bu">float</span>] <span class="op">=</span> mapped_column(Float)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    lunas: Mapped[List[<span class="st">"Luna"</span>]] <span class="op">=</span> relationship(</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>        back_populates<span class="op">=</span><span class="st">"planeta"</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.nombre</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Luna(Base):</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>    __tablename__ <span class="op">=</span> <span class="st">"lunas"</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    nombre: Mapped[<span class="bu">str</span>] <span class="op">=</span> mapped_column(primary_key<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    pos: Mapped[<span class="bu">str</span>] <span class="op">=</span> mapped_column(String)</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    rev_d: Mapped[<span class="bu">float</span>] <span class="op">=</span> mapped_column(Float)</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>    diám_km: Mapped[Optional[<span class="bu">float</span>]] <span class="op">=</span> mapped_column(Float, nullable<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>    dist_km: Mapped[<span class="bu">float</span>] <span class="op">=</span> mapped_column(Float)</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    planeta_nombre: Mapped[<span class="bu">str</span>] <span class="op">=</span> mapped_column(ForeignKey(<span class="st">"planetas.nombre"</span>))</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>    planeta: Mapped[<span class="st">"Planeta"</span>] <span class="op">=</span> relationship(back_populates<span class="op">=</span><span class="st">"lunas"</span>,)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Syntax varies from ORM to ORM</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="define-tables-once" class="slide level2">
<h2>Define tables once</h2>
<ul>
<li>ORM first, then <code>Base.metadata.create_all(engine)</code></li>
<li>DDL first, then <code>metadata.reflect(bind=engine)</code></li>
</ul>
<aside class="notes">
<p>If you are strategic, and if the ORM you choose supports it, you can probably avoid defining the tables twice, once on the Python side and once on the SQL side.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="more-concise-orms" class="slide level2">
<h2>More concise ORMs</h2>
<p><a href="https://docs.python-guide.org/scenarios/db/">Hitchhiker’s Guide</a></p>
<p><img data-src="img/guide-databases.png">{fig-alt=“Hitchhikers’ Guide to Python Databases page”)</p>
</section>
<section id="query-builders" class="slide level2">
<h2>Query builders</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pypika <span class="im">as</span> pk</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>planetas, lunas <span class="op">=</span> pk.Tables(<span class="st">'planetas'</span>, <span class="st">'lunas'</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> (pk.Query </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    .select(lunas.star, planetas.diám_km)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    .from_(planetas) </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    .join(lunas) </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    .on(planetas.nombre <span class="op">==</span> lunas.planeta_nombre)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    .where(planetas.diám_km <span class="op">&lt;</span> <span class="dv">60000</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    .where(lunas.diám_km <span class="op">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>SELECT "lunas".*,"planetas"."diám_km" 
FROM "planetas" 
JOIN "lunas" ON "planetas"."nombre"="lunas"."planeta_nombre" 
WHERE "planetas"."diám_km"&lt;60000 AND "lunas"."diám_km"&gt;100</code></pre>
<aside class="notes">
<p>At the border between writing raw SQL and an ORM, consider a query builder.</p>
<p>SQL-based syntax (so, yes, another syntax to learn) - all the same concepts and keywords</p>
<p>Why, though? Unless you just really hate SQL syntax?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="composable" class="slide level2">
<h2>Composable</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>    q <span class="op">=</span> (pk.Query </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>        .from_(planetas) </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>        .where(planetas.diám_km <span class="op">&lt;</span> <span class="dv">60000</span>)     </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>        .join(lunas) </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        .on(planetas.nombre <span class="op">==</span> lunas.planeta_nombre)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        .select(lunas.star, planetas.diám_km, )</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        .where(lunas.diám_km <span class="op">&gt;</span> <span class="dv">100</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>SELECT "lunas".*,"planetas"."diám_km" 
FROM "planetas" JOIN "lunas" 
ON "planetas"."nombre"="lunas"."planeta_nombre" 
WHERE "planetas"."diám_km"&lt;60000 
AND "lunas"."diám_km"&gt;100</code></pre>
</section>
<section id="pugsql" class="slide level2">
<h2>PugSQL</h2>

<img data-src="img/pugsql.png" alt="PugSQL webpage" class="r-stretch"><aside class="notes">
<p>Another ORM option</p>
<p>Define queries with SQL, each in its own .sql file, inport, invoke cleansly</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="graph" class="slide level2">
<h2>Graph</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 461.62 221.60" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 217.6)">
<title>
P
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-217.6 457.62,-217.6 457.62,4 -4,4"></polygon> <!-- Mercurio --> <g id="node1" class="node">
<title>
Mercurio
</title>
<ellipse fill="none" stroke="black" cx="46.97" cy="-106.8" rx="46.93" ry="18"></ellipse> <text text-anchor="middle" x="46.97" y="-102.6" font-family="Times,serif" font-size="14.00">Mercurio</text> </g> <!-- Sol --> <g id="node2" class="node">
<title>
Sol
</title>
<ellipse fill="none" stroke="black" cx="183.97" cy="-18" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="183.97" y="-13.8" font-family="Times,serif" font-size="14.00">Sol</text> </g> <!-- Mercurio&#45;&gt;Sol --> <g id="edge1" class="edge">
<title>
Mercurio-&gt;Sol
</title>
<path fill="none" stroke="black" d="M68.08,-90.57C83,-79.97 103.61,-65.71 122.31,-54 132.8,-47.43 144.56,-40.63 154.98,-34.78"></path> <polygon fill="black" stroke="black" points="156.68,-37.84 163.72,-29.92 153.28,-31.72 156.68,-37.84"></polygon> <text text-anchor="middle" x="139.29" y="-58.2" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Venus --> <g id="node3" class="node">
<title>
Venus
</title>
<ellipse fill="none" stroke="black" cx="147.97" cy="-106.8" rx="35.92" ry="18"></ellipse> <text text-anchor="middle" x="147.97" y="-102.6" font-family="Times,serif" font-size="14.00">Venus</text> </g> <!-- Venus&#45;&gt;Sol --> <g id="edge2" class="edge">
<title>
Venus-&gt;Sol
</title>
<path fill="none" stroke="black" d="M152.89,-88.74C156.04,-78.51 160.44,-65.32 165.31,-54 166.72,-50.74 168.31,-47.37 169.96,-44.07"></path> <polygon fill="black" stroke="black" points="173.12,-45.59 174.66,-35.1 166.92,-42.34 173.12,-45.59"></polygon> <text text-anchor="middle" x="182.29" y="-58.2" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Tierra --> <g id="node4" class="node">
<title>
Tierra
</title>
<ellipse fill="none" stroke="black" cx="235.97" cy="-106.8" rx="34.75" ry="18"></ellipse> <text text-anchor="middle" x="235.97" y="-102.6" font-family="Times,serif" font-size="14.00">Tierra</text> </g> <!-- Tierra&#45;&gt;Sol --> <g id="edge3" class="edge">
<title>
Tierra-&gt;Sol
</title>
<path fill="none" stroke="black" d="M226.19,-89.47C218.44,-76.54 207.49,-58.27 198.69,-43.57"></path> <polygon fill="black" stroke="black" points="201.67,-41.74 193.53,-34.96 195.67,-45.34 201.67,-41.74"></polygon> <text text-anchor="middle" x="231.29" y="-58.2" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Luna --> <g id="node5" class="node">
<title>
Luna
</title>
<ellipse fill="none" stroke="black" cx="234.97" cy="-195.6" rx="30.76" ry="18"></ellipse> <text text-anchor="middle" x="234.97" y="-191.4" font-family="Times,serif" font-size="14.00">Luna</text> </g> <!-- Luna&#45;&gt;Tierra --> <g id="edge4" class="edge">
<title>
Luna-&gt;Tierra
</title>
<path fill="none" stroke="black" d="M235.16,-177.45C235.3,-165.32 235.49,-148.82 235.65,-134.92"></path> <polygon fill="black" stroke="black" points="239.15,-134.95 235.77,-124.91 232.15,-134.87 239.15,-134.95"></polygon> <text text-anchor="middle" x="252.29" y="-147" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Marte --> <g id="node6" class="node">
<title>
Marte
</title>
<ellipse fill="none" stroke="black" cx="324.97" cy="-106.8" rx="34.19" ry="18"></ellipse> <text text-anchor="middle" x="324.97" y="-102.6" font-family="Times,serif" font-size="14.00">Marte</text> </g> <!-- Marte&#45;&gt;Sol --> <g id="edge5" class="edge">
<title>
Marte-&gt;Sol
</title>
<path fill="none" stroke="black" d="M306.56,-91.63C292.08,-80.77 271.22,-65.71 251.97,-54 240.06,-46.76 226.49,-39.58 214.62,-33.62"></path> <polygon fill="black" stroke="black" points="216.04,-30.42 205.53,-29.12 212.94,-36.69 216.04,-30.42"></polygon> <text text-anchor="middle" x="293.29" y="-58.2" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Deimos --> <g id="node7" class="node">
<title>
Deimos
</title>
<ellipse fill="none" stroke="black" cx="324.97" cy="-195.6" rx="41.16" ry="18"></ellipse> <text text-anchor="middle" x="324.97" y="-191.4" font-family="Times,serif" font-size="14.00">Deimos</text> </g> <!-- Deimos&#45;&gt;Marte --> <g id="edge6" class="edge">
<title>
Deimos-&gt;Marte
</title>
<path fill="none" stroke="black" d="M324.97,-177.45C324.97,-165.32 324.97,-148.82 324.97,-134.92"></path> <polygon fill="black" stroke="black" points="328.47,-134.91 324.97,-124.91 321.47,-134.91 328.47,-134.91"></polygon> <text text-anchor="middle" x="341.29" y="-147" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Fobos --> <g id="node8" class="node">
<title>
Fobos
</title>
<ellipse fill="none" stroke="black" cx="418.97" cy="-195.6" rx="34.8" ry="18"></ellipse> <text text-anchor="middle" x="418.97" y="-191.4" font-family="Times,serif" font-size="14.00">Fobos</text> </g> <!-- Fobos&#45;&gt;Marte --> <g id="edge7" class="edge">
<title>
Fobos-&gt;Marte
</title>
<path fill="none" stroke="black" d="M402.59,-179.48C387.77,-165.79 365.74,-145.45 348.93,-129.93"></path> <polygon fill="black" stroke="black" points="350.87,-126.96 341.15,-122.75 346.13,-132.1 350.87,-126.96"></polygon> <text text-anchor="middle" x="397.29" y="-147" font-family="Times,serif" font-size="14.00">orbita</text> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Like a document, this can easily represent an arbitrary structure</p>
<p>Actually stored as node -&gt; edge -&gt; node</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 639.39 310.40" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 306.4)">
<title>
P
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-306.4 635.39,-306.4 635.39,4 -4,4"></polygon> <!-- Mercurio --> <g id="node1" class="node">
<title>
Mercurio
</title>
<ellipse fill="none" stroke="black" cx="46.97" cy="-195.6" rx="46.93" ry="18"></ellipse> <text text-anchor="middle" x="46.97" y="-191.4" font-family="Times,serif" font-size="14.00">Mercurio</text> </g> <!-- Sol --> <g id="node2" class="node">
<title>
Sol
</title>
<ellipse fill="none" stroke="black" cx="130.97" cy="-106.8" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="130.97" y="-102.6" font-family="Times,serif" font-size="14.00">Sol</text> </g> <!-- Mercurio&#45;&gt;Sol --> <g id="edge1" class="edge">
<title>
Mercurio-&gt;Sol
</title>
<path fill="none" stroke="black" d="M49.7,-177.61C52.2,-166.64 56.85,-152.63 65.31,-142.8 73.94,-132.78 86.16,-125.18 97.72,-119.66"></path> <polygon fill="black" stroke="black" points="99.44,-122.73 107.19,-115.51 96.63,-116.32 99.44,-122.73"></polygon> <text text-anchor="middle" x="82.29" y="-147" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Venus --> <g id="node3" class="node">
<title>
Venus
</title>
<ellipse fill="none" stroke="black" cx="264.97" cy="-195.6" rx="35.92" ry="18"></ellipse> <text text-anchor="middle" x="264.97" y="-191.4" font-family="Times,serif" font-size="14.00">Venus</text> </g> <!-- Venus&#45;&gt;Sol --> <g id="edge2" class="edge">
<title>
Venus-&gt;Sol
</title>
<path fill="none" stroke="black" d="M234.47,-185.72C210.34,-178.3 178.99,-167.67 168.31,-159.6 158.93,-152.51 150.91,-142.4 144.73,-132.99"></path> <polygon fill="black" stroke="black" points="147.61,-130.99 139.39,-124.31 141.65,-134.66 147.61,-130.99"></polygon> <text text-anchor="middle" x="185.29" y="-147" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- CO2 --> <g id="node9" class="node">
<title>
CO2
</title>
<ellipse fill="none" stroke="black" cx="267.97" cy="-106.8" rx="29.06" ry="18"></ellipse> <text text-anchor="middle" x="267.97" y="-102.6" font-family="Times,serif" font-size="14.00">CO2</text> </g> <!-- Venus&#45;&gt;CO2 --> <g id="edge8" class="edge">
<title>
Venus-&gt;CO2
</title>
<path fill="none" stroke="black" d="M265.03,-177.33C265.11,-167.25 265.31,-154.3 265.76,-142.8 265.86,-140.24 265.99,-137.59 266.13,-134.93"></path> <polygon fill="black" stroke="black" points="269.63,-135.07 266.73,-124.88 262.64,-134.66 269.63,-135.07"></polygon> <text text-anchor="middle" x="278.57" y="-147" font-family="Times,serif" font-size="14.00">tiene</text> </g> <!-- N2 --> <g id="node10" class="node">
<title>
N2
</title>
<ellipse fill="none" stroke="black" cx="518.97" cy="-106.8" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="518.97" y="-102.6" font-family="Times,serif" font-size="14.00">N2</text> </g> <!-- Venus&#45;&gt;N2 --> <g id="edge9" class="edge">
<title>
Venus-&gt;N2
</title>
<path fill="none" stroke="black" d="M299.08,-190.25C327.18,-185.62 367.4,-176.54 398.97,-159.6 408.84,-154.3 408.1,-148.48 417.76,-142.8 429.38,-135.97 460.32,-125.65 484.95,-117.98"></path> <polygon fill="black" stroke="black" points="486.18,-121.26 494.71,-114.98 484.12,-114.57 486.18,-121.26"></polygon> <text text-anchor="middle" x="430.57" y="-147" font-family="Times,serif" font-size="14.00">tiene</text> </g> <!-- Tierra --> <g id="node4" class="node">
<title>
Tierra
</title>
<ellipse fill="none" stroke="black" cx="420.97" cy="-195.6" rx="34.75" ry="18"></ellipse> <text text-anchor="middle" x="420.97" y="-191.4" font-family="Times,serif" font-size="14.00">Tierra</text> </g> <!-- Tierra&#45;&gt;Sol --> <g id="edge3" class="edge">
<title>
Tierra-&gt;Sol
</title>
<path fill="none" stroke="black" d="M389.14,-187.95C366.71,-182.42 336.48,-173.23 312.31,-159.6 302.39,-154.01 303.15,-147.9 292.97,-142.8 271.31,-131.96 208.08,-120.24 167.32,-113.49"></path> <polygon fill="black" stroke="black" points="167.66,-110 157.23,-111.84 166.53,-116.91 167.66,-110"></polygon> <text text-anchor="middle" x="328.29" y="-147" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Tierra&#45;&gt;CO2 --> <g id="edge10" class="edge">
<title>
Tierra-&gt;CO2
</title>
<path fill="none" stroke="black" d="M401.28,-180.71C392.26,-174.32 381.44,-166.61 371.76,-159.6 361.57,-152.22 359.88,-149.07 348.97,-142.8 334.15,-134.29 316.86,-126.55 302.07,-120.52"></path> <polygon fill="black" stroke="black" points="303.35,-117.26 292.77,-116.82 300.77,-123.77 303.35,-117.26"></polygon> <text text-anchor="middle" x="384.57" y="-147" font-family="Times,serif" font-size="14.00">tiene</text> </g> <!-- Tierra&#45;&gt;N2 --> <g id="edge11" class="edge">
<title>
Tierra-&gt;N2
</title>
<path fill="none" stroke="black" d="M445.85,-183.04C457.28,-177.02 470.57,-168.96 480.97,-159.6 489.64,-151.8 497.56,-141.72 503.91,-132.54"></path> <polygon fill="black" stroke="black" points="506.89,-134.38 509.48,-124.11 501.05,-130.52 506.89,-134.38"></polygon> <text text-anchor="middle" x="508.57" y="-147" font-family="Times,serif" font-size="14.00">tiene</text> </g> <!-- O2 --> <g id="node11" class="node">
<title>
O2
</title>
<ellipse fill="none" stroke="black" cx="424.97" cy="-106.8" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="424.97" y="-102.6" font-family="Times,serif" font-size="14.00">O2</text> </g> <!-- Tierra&#45;&gt;O2 --> <g id="edge12" class="edge">
<title>
Tierra-&gt;O2
</title>
<path fill="none" stroke="black" d="M436.91,-179.28C441.75,-173.61 446.44,-166.8 448.97,-159.6 452.33,-150.02 449.16,-139.82 444.14,-131.02"></path> <polygon fill="black" stroke="black" points="446.9,-128.84 438.45,-122.44 441.07,-132.71 446.9,-128.84"></polygon> <text text-anchor="middle" x="463.57" y="-147" font-family="Times,serif" font-size="14.00">tiene</text> </g> <!-- Luna --> <g id="node5" class="node">
<title>
Luna
</title>
<ellipse fill="none" stroke="black" cx="420.97" cy="-284.4" rx="30.76" ry="18"></ellipse> <text text-anchor="middle" x="420.97" y="-280.2" font-family="Times,serif" font-size="14.00">Luna</text> </g> <!-- Luna&#45;&gt;Tierra --> <g id="edge4" class="edge">
<title>
Luna-&gt;Tierra
</title>
<path fill="none" stroke="black" d="M420.97,-266.25C420.97,-254.12 420.97,-237.62 420.97,-223.72"></path> <polygon fill="black" stroke="black" points="424.47,-223.71 420.97,-213.71 417.47,-223.71 424.47,-223.71"></polygon> <text text-anchor="middle" x="437.29" y="-235.8" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Marte --> <g id="node6" class="node">
<title>
Marte
</title>
<ellipse fill="none" stroke="black" cx="161.97" cy="-195.6" rx="34.19" ry="18"></ellipse> <text text-anchor="middle" x="161.97" y="-191.4" font-family="Times,serif" font-size="14.00">Marte</text> </g> <!-- Marte&#45;&gt;Sol --> <g id="edge5" class="edge">
<title>
Marte-&gt;Sol
</title>
<path fill="none" stroke="black" d="M134.17,-184.83C122.8,-179.3 110.8,-171.13 104.31,-159.6 98.92,-150.02 102.91,-139.23 109.3,-129.99"></path> <polygon fill="black" stroke="black" points="112.15,-132.03 115.63,-122.02 106.67,-127.68 112.15,-132.03"></polygon> <text text-anchor="middle" x="121.29" y="-147" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Marte&#45;&gt;CO2 --> <g id="edge13" class="edge">
<title>
Marte-&gt;CO2
</title>
<path fill="none" stroke="black" d="M179.95,-179.88C197.31,-165.66 223.76,-144 243.13,-128.14"></path> <polygon fill="black" stroke="black" points="245.43,-130.78 250.95,-121.73 241,-125.36 245.43,-130.78"></polygon> <text text-anchor="middle" x="237.57" y="-147" font-family="Times,serif" font-size="14.00">tiene</text> </g> <!-- Deimos --> <g id="node7" class="node">
<title>
Deimos
</title>
<ellipse fill="none" stroke="black" cx="208.97" cy="-284.4" rx="41.16" ry="18"></ellipse> <text text-anchor="middle" x="208.97" y="-280.2" font-family="Times,serif" font-size="14.00">Deimos</text> </g> <!-- Deimos&#45;&gt;Marte --> <g id="edge6" class="edge">
<title>
Deimos-&gt;Marte
</title>
<path fill="none" stroke="black" d="M199.91,-266.66C193.03,-253.97 183.47,-236.32 175.67,-221.91"></path> <polygon fill="black" stroke="black" points="178.68,-220.12 170.84,-212.99 172.53,-223.45 178.68,-220.12"></polygon> <text text-anchor="middle" x="205.29" y="-235.8" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- Fobos --> <g id="node8" class="node">
<title>
Fobos
</title>
<ellipse fill="none" stroke="black" cx="114.97" cy="-284.4" rx="34.8" ry="18"></ellipse> <text text-anchor="middle" x="114.97" y="-280.2" font-family="Times,serif" font-size="14.00">Fobos</text> </g> <!-- Fobos&#45;&gt;Marte --> <g id="edge7" class="edge">
<title>
Fobos-&gt;Marte
</title>
<path fill="none" stroke="black" d="M124.03,-266.66C130.9,-253.97 140.46,-236.32 148.26,-221.91"></path> <polygon fill="black" stroke="black" points="151.41,-223.45 153.09,-212.99 145.25,-220.12 151.41,-223.45"></polygon> <text text-anchor="middle" x="159.29" y="-235.8" font-family="Times,serif" font-size="14.00">orbita</text> </g> <!-- O --> <g id="node12" class="node">
<title>
O
</title>
<ellipse fill="none" stroke="black" cx="380.97" cy="-18" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="380.97" y="-13.8" font-family="Times,serif" font-size="14.00">O</text> </g> <!-- CO2&#45;&gt;O --> <g id="edge14" class="edge">
<title>
CO2-&gt;O
</title>
<path fill="none" stroke="black" d="M287.65,-92.93C297.25,-86.49 308.87,-78.46 318.97,-70.8 332.01,-60.91 346.04,-49.28 357.45,-39.54"></path> <polygon fill="black" stroke="black" points="359.95,-42.01 365.25,-32.84 355.38,-36.71 359.95,-42.01"></polygon> <text text-anchor="middle" x="362.68" y="-58.2" font-family="Times,serif" font-size="14.00">contiene</text> </g> <!-- C --> <g id="node13" class="node">
<title>
C
</title>
<ellipse fill="none" stroke="black" cx="267.97" cy="-18" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="267.97" y="-13.8" font-family="Times,serif" font-size="14.00">C</text> </g> <!-- CO2&#45;&gt;C --> <g id="edge15" class="edge">
<title>
CO2-&gt;C
</title>
<path fill="none" stroke="black" d="M267.97,-88.65C267.97,-76.52 267.97,-60.02 267.97,-46.12"></path> <polygon fill="black" stroke="black" points="271.47,-46.11 267.97,-36.11 264.47,-46.11 271.47,-46.11"></polygon> <text text-anchor="middle" x="291.68" y="-58.2" font-family="Times,serif" font-size="14.00">contiene</text> </g> <!-- N --> <g id="node14" class="node">
<title>
N
</title>
<ellipse fill="none" stroke="black" cx="596.97" cy="-18" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="596.97" y="-13.8" font-family="Times,serif" font-size="14.00">N</text> </g> <!-- N2&#45;&gt;N --> <g id="edge17" class="edge">
<title>
N2-&gt;N
</title>
<path fill="none" stroke="black" d="M540.91,-96.1C552.31,-90.16 565.73,-81.61 574.97,-70.8 581.24,-63.46 585.95,-54.07 589.36,-45.3"></path> <polygon fill="black" stroke="black" points="592.68,-46.41 592.69,-35.81 586.08,-44.1 592.68,-46.41"></polygon> <text text-anchor="middle" x="607.68" y="-58.2" font-family="Times,serif" font-size="14.00">contiene</text> </g> <!-- Taumeba --> <g id="node15" class="node">
<title>
Taumeba
</title>
<ellipse fill="none" stroke="black" cx="504.97" cy="-18" rx="46.92" ry="18"></ellipse> <text text-anchor="middle" x="504.97" y="-13.8" font-family="Times,serif" font-size="14.00">Taumeba</text> </g> <!-- N2&#45;&gt;Taumeba --> <g id="edge18" class="edge">
<title>
N2-&gt;Taumeba
</title>
<path fill="none" stroke="black" d="M516.11,-88.71C515.17,-83.02 514.12,-76.64 513.17,-70.8 511.87,-62.8 510.49,-54.1 509.23,-46.16"></path> <polygon fill="black" stroke="black" points="512.69,-45.6 507.67,-36.27 505.77,-46.69 512.69,-45.6"></polygon> <text text-anchor="middle" x="543.87" y="-58.2" font-family="Times,serif" font-size="14.00">tóxica para</text> </g> <!-- O2&#45;&gt;O --> <g id="edge16" class="edge">
<title>
O2-&gt;O
</title>
<path fill="none" stroke="black" d="M417.28,-89.37C412.44,-79.14 405.98,-65.73 399.97,-54 398.34,-50.83 396.6,-47.51 394.86,-44.24"></path> <polygon fill="black" stroke="black" points="397.85,-42.43 390.02,-35.3 391.7,-45.76 397.85,-42.43"></polygon> <text text-anchor="middle" x="430.68" y="-58.2" font-family="Times,serif" font-size="14.00">contiene</text> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>This looks out of hand, but you wouldn’t necessarily view the whole graph at once. That’s what queries are for.</p>
<ul>
<li>Graph databases have query languages</li>
<li>Often inspired by SQL</li>
<li>Competing DSLs</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="breaking-boundaries" class="title-slide slide level1 center">
<h1>Breaking boundaries</h1>
<ul>
<li>Data paradigm / shape</li>
<li>Query</li>
<li>Storage</li>
</ul>
<aside class="notes">
<p>Three separate decisions</p>
<p>“A SQL database”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/hstore.png" alt="hstore docs" class="r-stretch quarto-figure-center"></section>
<section id="postgresql-json-type" class="slide level2">
<h2>PostgreSQL JSON type</h2>
<div class="sourceCode" id="cb22"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> planetas (</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    nombre TEXT <span class="kw">PRIMARY</span> <span class="kw">KEY</span>, info JSON);</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> nombre, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        doc<span class="op">-&gt;</span><span class="st">'diám_km'</span> <span class="kw">AS</span> diám_km, </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        doc<span class="op">-&gt;</span><span class="st">'año_d'</span> <span class="kw">AS</span> año_d</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> planetas_docs</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> (doc<span class="op">-&gt;&gt;</span><span class="st">'diám_km'</span>):<span class="ch">:int</span> <span class="op">&gt;</span> <span class="dv">20000</span>;</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">INDEX</span> <span class="kw">ON</span> planetas_docs(((doc<span class="op">-&gt;&gt;</span><span class="st">'diám_km'</span>):<span class="ch">:int</span>));</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Like a doc database, JSON not just string</p>
<p>drill in to select</p>
<p>index</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="cross-paradigm-hosting" class="slide level2">
<h2>Cross-paradigm hosting</h2>
<p>Database of one class acts as another</p>
</section>
<section class="slide level2">


<img data-src="img/ferretdb.png" alt="FerretDB webpage" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Supports MongoDB, but uses PostgreSQL for its storage engine</p>
<p>I lied in my earlier slide showing MongoDB; I was actually showing FerretDB.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/apache_age.png" alt="Apache AGE webpage" class="r-stretch quarto-figure-center"></section>
<section id="graphs-without-a-graph-database" class="slide level2">
<h2>Graphs without a graph database</h2>
<p><a href="https://tech.ingrid.com/sql-as-graph-database/">Using PostgreSQL as a graph database</a></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> RECURSIVE traverse(node_id, entity_type, entity_id) <span class="kw">AS</span> (</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">..</span>.</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    traverse.entity_id <span class="kw">as</span> order_id</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> traverse</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="op">..</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>RECURSIVE CTE: special sauce</p>
<p>PostgreSQL propaganda?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/chelnik.jpg" alt="small crocheted blue elephant" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Chelnik!</p>
<p>What did you do to our talk?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="sqlite" class="title-slide slide level1 center">
<h1>SQLite</h1>

<img data-src="img/chelnik-blindfolded.png" alt="small crocheted blue elephant, wearing blindfold" class="r-stretch quarto-figure-center"><aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="simplicity" class="slide level2">
<h2>Simplicity</h2>
<table>
<thead>
<tr class="header">
<th></th>
<th>one machine</th>
<th>distributed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>in memory</td>
<td>SQLite</td>
<td>Apache Ignite</td>
</tr>
<tr class="even">
<td>single file</td>
<td>SQLite</td>
<td>rqlite</td>
</tr>
<tr class="odd">
<td>server-managed</td>
<td>PostgreSQL</td>
<td>CockroachDB</td>
</tr>
</tbody>
</table>
<ul>
<li>No server</li>
<li>Python Standard Library support</li>
</ul>
<aside class="notes">
<p>beloved for quick projects, demos, single-user apps</p>
<p>serverless: file format + libraries to access</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sqlite-for-application-files" class="slide level2">
<h2><a href="https://www.sqlite.org/appfileformat.html">SQLite for Application Files</a></h2>

<img data-src="img/sqlite-app-file.png" alt="Article titled: SQL as an Application File Format" class="r-stretch quarto-figure-center"><p class="caption">Document: SQLite As An Application File Format</p><aside class="notes">
<p>In fact, it’s so simple that you can use it when you weren’t even thinking about using a database at all - you were just looking for a data storage file format. Because it’s an efficient and versatile format. There’s a good discussion of that in the SQLite docs.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="simple-weak" class="slide level2">
<h2>Simple != Weak</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 504.80 188.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>
P
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-184 500.8,-184 500.8,4 -4,4"></polygon> <!-- Data source --> <g id="node1" class="node">
<title>
Data source
</title>
<ellipse fill="none" stroke="black" cx="248.4" cy="-162" rx="56.77" ry="18"></ellipse> <text text-anchor="middle" x="248.4" y="-157.8" font-family="Times,serif" font-size="14.00">Data source</text> </g> <!-- SQLite --> <g id="node2" class="node">
<title>
SQLite
</title>
<ellipse fill="none" stroke="black" cx="248.4" cy="-90" rx="38.86" ry="18"></ellipse> <text text-anchor="middle" x="248.4" y="-85.8" font-family="Times,serif" font-size="14.00">SQLite</text> </g> <!-- Data source&#45;&gt;SQLite --> <g id="edge1" class="edge">
<title>
Data source-&gt;SQLite
</title>
<path fill="none" stroke="black" d="M248.4,-143.7C248.4,-135.98 248.4,-126.71 248.4,-118.11"></path> <polygon fill="black" stroke="black" points="251.9,-118.1 248.4,-108.1 244.9,-118.1 251.9,-118.1"></polygon> </g> <!-- reader 1 --> <g id="node3" class="node">
<title>
reader 1
</title>
<ellipse fill="none" stroke="black" cx="42.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="42.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 1</text> </g> <!-- SQLite&#45;&gt;reader 1 --> <g id="edge2" class="edge">
<title>
SQLite-&gt;reader 1
</title>
<path fill="none" stroke="black" d="M218,-78.67C182.61,-66.65 123.96,-46.71 84.27,-33.23"></path> <polygon fill="black" stroke="black" points="85.21,-29.85 74.62,-29.95 82.96,-36.48 85.21,-29.85"></polygon> </g> <!-- reader 2 --> <g id="node4" class="node">
<title>
reader 2
</title>
<ellipse fill="none" stroke="black" cx="145.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="145.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 2</text> </g> <!-- SQLite&#45;&gt;reader 2 --> <g id="edge3" class="edge">
<title>
SQLite-&gt;reader 2
</title>
<path fill="none" stroke="black" d="M227.06,-74.5C212.1,-64.33 191.91,-50.61 175.35,-39.36"></path> <polygon fill="black" stroke="black" points="177.3,-36.45 167.07,-33.73 173.37,-42.24 177.3,-36.45"></polygon> </g> <!-- reader 3 --> <g id="node5" class="node">
<title>
reader 3
</title>
<ellipse fill="none" stroke="black" cx="248.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="248.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 3</text> </g> <!-- SQLite&#45;&gt;reader 3 --> <g id="edge4" class="edge">
<title>
SQLite-&gt;reader 3
</title>
<path fill="none" stroke="black" d="M248.4,-71.7C248.4,-63.98 248.4,-54.71 248.4,-46.11"></path> <polygon fill="black" stroke="black" points="251.9,-46.1 248.4,-36.1 244.9,-46.1 251.9,-46.1"></polygon> </g> <!-- reader 4 --> <g id="node6" class="node">
<title>
reader 4
</title>
<ellipse fill="none" stroke="black" cx="351.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="351.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 4</text> </g> <!-- SQLite&#45;&gt;reader 4 --> <g id="edge5" class="edge">
<title>
SQLite-&gt;reader 4
</title>
<path fill="none" stroke="black" d="M269.74,-74.5C284.69,-64.33 304.88,-50.61 321.45,-39.36"></path> <polygon fill="black" stroke="black" points="323.43,-42.24 329.73,-33.73 319.49,-36.45 323.43,-42.24"></polygon> </g> <!-- reader 5 --> <g id="node7" class="node">
<title>
reader 5
</title>
<ellipse fill="none" stroke="black" cx="454.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="454.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 5</text> </g> <!-- SQLite&#45;&gt;reader 5 --> <g id="edge6" class="edge">
<title>
SQLite-&gt;reader 5
</title>
<path fill="none" stroke="black" d="M278.79,-78.67C314.18,-66.65 372.84,-46.71 412.52,-33.23"></path> <polygon fill="black" stroke="black" points="413.84,-36.48 422.18,-29.95 411.58,-29.85 413.84,-36.48"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Python “scripting” language?</p>
<p>large amounts OK</p>
<p>lots of users / processes OK</p>
<p>Publish data, updated occasionally</p>
<p>lots of writers: not OK</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="baked-data" class="slide level2">
<h2>Baked data</h2>
<p>Simon Willison: <a href="https://simonwillison.net/2021/Jul/28/baked-data/">The Baked Data architectural pattern</a></p>

<img data-src="img/baked-data.png" alt="Baked Data article" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Simon Willison wrote this great article on cheaply and easily hosting an application if it relies on infrequently-updated data. Just put that data in a single-file database like SQLite, and a cheap and basic real or virtual server can handle the dynamic part.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="datasette" class="slide level2">
<h2>Datasette</h2>
<p><a href="http://localhost:8001/">datasette data/planetas.sqlite</a></p>

<img data-src="img/datasette-map.png" alt="Datasette page with map" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Explore, visualize tool</p>
<p>Plugins for leaflet, dashboards,</p>
<p>Simple as SQLite itself</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="datasette-lite" class="slide level2">
<h2>Datasette-lite</h2>
<p><a href="https://lite.datasette.io/?url=https://github.com/catherinedevlin/talks/blob/master/pycon_colombia_2023/data/planetas.sqlite">https://lite.datasette.io/?url=https://github.com /catherinedevlin/talks/blob/master /pycon_colombia_2023/data/planetas.sqlite</a></p>
<aside class="notes">
<p>blurring boundaries: PyIodide</p>
<p>Simon Willison did this with Datasette!</p>
<p>Why would I put this long ugly URL on my slide?</p>
<p>Only code!</p>
<p>I have never been this lazy in my life, and I love it!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="cross-paradigm-sqlite" class="slide level2">
<h2>Cross-paradigm SQLite</h2>
<ul>
<li><a href="https://dgl.cx/2020/06/sqlite-json-support">SQLite as a document database</a></li>
<li><a href="https://github.com/dpapathanasiou/simple-graph">simple-graph</a></li>
<li><a href="https://www.sqlite.org/fts5.html">FTS5</a>: full-text for search</li>
</ul>
</section>
<section id="data-federation" class="slide level2">
<h2>Data Federation</h2>
<p>Stop thinking about where data is hosted</p>
<aside class="notes">
<p>Open your eyes now, chelnik</p>
<p>Blur boundaries:</p>
<p>Leave data in place… query it anyway</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="postgresql-foreign-data-wrappers" class="slide level2">
<h2>PostgreSQL Foreign Data Wrappers</h2>

<img data-src="img/mongo_fdw.png" alt="Screenshot of using mongo_fdw" class="r-stretch quarto-figure-center"><p><a href="https://www.crunchydata.com/blog/easy-mongo-from-your-postgres">source: CrunchyData blog</a></p>
<aside class="notes">
<p>At that point, you can run queries against your foreign tables and pretty much forget that they are foreign tables!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="cloud-storage-big-data" class="slide level2">
<h2>Cloud storage / big data</h2>

<img data-src="img/parquet_fdw.png" alt="Parquet Foreign Data Wrapper repo page" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Often, gangs of bullies accost innocent programmers and tell them that they have to use a big data file format like Parquet.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="many-many-wrappers" class="slide level2">
<h2><a href="https://wiki.postgresql.org/wiki/Foreign_data_wrappers">Many many wrappers…</a></h2>
<aside class="notes">
<p>Ease, quality, documentation</p>
<p>performance, read-only</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sql-itself-gets-everywhere" class="slide level2">
<h2>SQL (itself) gets everywhere</h2>
</section>
<section id="sql-to-pandas" class="slide level2">
<h2>SQL to Pandas</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>qry <span class="op">=</span> <span class="st">"""SELECT p.nombre, p.diám_km, </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="st">        l.nombre AS luna,</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="st">        l.diám_km AS luna_diám_km</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="st">FROM   planetas p </span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN   lunas l ON (l.planeta_nombre = p.nombre)"""</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_sql(qry, <span class="st">'sqlite:///planetas.db'</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>df.write_sql(<span class="st">"new_tbl"</span>, connection)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="jupysql" class="slide level2">
<h2><a href="https://jupysql.ploomber.io/en/latest/quick-start.html">JupySQL</a></h2>

<img data-src="img/jupysql.png" alt="JupySQL webpage" class="r-stretch quarto-figure-center"><aside class="notes">
<p>I love JupySQL because it’s the second time somebody picked up one of my personal projects and made it into something far better than I could.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="jupysql-to-pandas" class="slide level2">
<h2>JupySQL to Pandas</h2>
<pre><code>%%sql result &lt;&lt; 
SELECT p.nombre, p.diám_km, 
        l.nombre AS luna,
        l.diám_km AS luna_diám_km
FROM   planetas p 
JOIN   lunas l ON (l.planeta_nombre = p.nombre)

result.DataFrame()</code></pre>
</section>
<section id="sql-for-big-data" class="slide level2">
<h2>SQL for Big Data</h2>
<ul>
<li>File formats like Parquet, Avro, ORC</li>
<li>Engines for access: Apache Spark, Presto, DuckDB, Apache Drill…</li>
</ul>
<aside class="notes">
<p>“Big Data” and “NoSQL” are often used as near-synonyms, yet most of the “Big Data” query engines support SQL. They may also support a variety of APIs for Python-style access, but of course, those APIs are different for each one.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dbt-sql-for-etl" class="slide level2">
<h2>dbt: SQL for ETL</h2>

<img data-src="img/dbt.png" alt="dbt webpage" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Data transformation</p>
<p>Very old-fashioned SQL</p>
<p>-ize words: Organize, parallelize, visualize</p>
<p>Clean and manageable</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="family-members" class="slide level2">
<h2>Family members</h2>
<p>SQLite -&gt; rqlite, DuckDB</p>
<p>PostgreSQL -&gt; CockroachDB, Crunchy, Yugabyte, Supabase…</p>
<aside class="notes">
<p>Plus the proprietary hosted variants.</p>
<p>Leveraging personal &amp; community experience</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="order-vs.-freedom" class="title-slide slide level1 center">
<h1>Order vs.&nbsp;Freedom</h1>

</section>
<section class="slide level2">


<img data-src="img/csv.png" alt="CSV of planet info" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Generally, in these rectangle-based formats, it’s very clear which fields are and are not present.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb26"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> planetas </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ADD</span> <span class="kw">COLUMN</span> (anillos BOOL </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">NOT</span> <span class="kw">NULL</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">DEFAULT</span> <span class="kw">FALSE</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>In fact, you may need to run code to add a field that wasn’t previously present.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>planetas[<span class="st">'Saturno'</span>][<span class="st">'anillos'</span>] <span class="op">=</span> <span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Whereas, in documents or graphs, by default you can just toss in whatever values and relationships you wish.</p>
<p>This can be very freeing and fun.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>planetas[<span class="st">'Saturno'</span>][<span class="st">'anillos'</span>] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>planetas[<span class="st">'Júpiter'</span>][<span class="st">'anillos'</span>] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>planetas[<span class="st">'Tierra'</span>] [<span class="st">'anllos'</span>] <span class="op">=</span> <span class="va">False</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Mistakes</p>
<p>Not self-documented - your eyes or other tools</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="json-schema" class="title-slide slide level1 center">
<h1><a href="https://json-schema.org/">JSON Schema</a></h1>
<div class="sourceCode" id="cb29"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="dt">"$schema"</span><span class="fu">:</span> <span class="st">"https://json-schema.org/draft/2020-12/schema"</span><span class="fu">,</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="dt">"$id"</span><span class="fu">:</span> <span class="st">"https://example.com/product.schema.json"</span><span class="fu">,</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="dt">"title"</span><span class="fu">:</span> <span class="st">"Product"</span><span class="fu">,</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="dt">"description"</span><span class="fu">:</span> <span class="st">"A product from Acme's catalog"</span><span class="fu">,</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="dt">"type"</span><span class="fu">:</span> <span class="st">"object"</span><span class="fu">,</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="dt">"properties"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"productId"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"description"</span><span class="fu">:</span> <span class="st">"The unique identifier for a product"</span><span class="fu">,</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"integer"</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="fu">},</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="dt">"required"</span><span class="fu">:</span> <span class="ot">[</span> <span class="st">"productId"</span> <span class="ot">]</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Validate like Pydantic</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/type-hints.png" alt="Python docs page on type hints" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Does this tradeoff remind you of anything?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dataclasses-attrs" class="slide level2">
<h2>Dataclasses / attrs</h2>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dataclasses <span class="im">import</span> dataclass </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Planeta:</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    nombre: <span class="bu">str</span> </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    diám_km: <span class="bu">int</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    año_d: <span class="bu">float</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>Planeta(nombre<span class="op">=</span><span class="st">'Júpiter'</span>, diám_km<span class="op">=</span><span class="dv">142800</span>, año_d<span class="op">=</span><span class="fl">4331.865</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Lukasz: defined organization enables technologies</p>
<p>Defined schema enables documentation tools, editors</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Planeta_Dataclass:</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    nombre: <span class="bu">str</span> </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    diám_km: <span class="bu">int</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    año_d: <span class="bu">float</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Planeta_Model(Base):</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    __tablename__ <span class="op">=</span> <span class="st">"planetas"</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    nombre: Mapped[<span class="bu">str</span>] <span class="op">=</span> mapped_column(primary_key<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    diám_km: Mapped[<span class="bu">int</span>] <span class="op">=</span> mapped_column(Integer)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    año_d: Mapped[Optional[<span class="bu">float</span>]] <span class="op">=</span> mapped_column(Float, nullable<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>So close together! Do we really need to define them separately!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sqlalchemy-2.0---dataclass" class="slide level2">
<h2>SQLAlchemy 2.0 - dataclass</h2>
<p>and (attrs, Pydantic)</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sqlalchemy.orm <span class="im">import</span> MappedAsDataclass</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Planeta(MappedAsDataclass, Base):</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    __tablename__ <span class="op">=</span> <span class="st">"planetas"</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    nombre: Mapped[<span class="bu">str</span>] <span class="op">=</span> mapped_column(primary_key<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    diám_km: Mapped[<span class="bu">int</span>] <span class="op">=</span> mapped_column(Integer)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    año_d: Mapped[Optional[<span class="bu">float</span>]] <span class="op">=</span> mapped_column(Float, nullable<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Latest SQLAlchemy release blurs that boundary with a mixin</p>
<p>Also integrations with attrs and Pydantic</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="laziness" class="slide level2">
<h2>Laziness</h2>
<h3 id="mock-data">Mock data</h3>
<p>From Pydantic / dataclasses: <a href="https://polyfactory.litestar.dev/">Polyfactory</a></p>
<p>From JSON Schema: <a href="https://github.com/ghandic/jsf">jsf</a></p>
<aside class="notes">
<p>Not talking about data loading. I mean that I am lazy. I love that mixin.</p>
<p>Oh, but now I have to define my dataclass.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="datamodel-codegen" class="slide level2">
<h2>datamodel-codegen</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">datamodel-codegen</span> <span class="at">--input</span> planetas.csv <span class="at">--input-file-type</span> csv <span class="at">--output-model-type</span> dataclasses.dataclass</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code># generated by datamodel-codegen:
#   filename:  planetas.csv
#   timestamp: 2023-06-05T01:41:29+00:00

from __future__ import annotations

from dataclasses import dataclass

@dataclass
class Model:
    nombre: str
    mín_ua: str
    máx_ua: str
    incl_orb_g: str
    diám_km: str
    obl: str
    masas_t: str
    incl_g: str
    año_d: str
    día_h: str</code></pre>
<aside class="notes">
<p>Automated converters! Search for them!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="automated-converters" class="slide level2">
<h2>Automated converters</h2>

<img data-src="converters.svg" alt="diagram of converters between data specs" class="r-stretch"><aside class="notes">
<p>Partial map - my own research</p>
<p>glue together into pandat?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="clarity-please" class="title-slide slide level1 center">
<h1>Clarity please</h1>

</section>
<section id="units-put-them-in-field-names" class="slide level2">
<h2>Units: put them in field names!</h2>

<img data-src="img/mars-probe-collision.png" alt="News story on loss of Mars probe" class="r-stretch quarto-figure-center"><p><a href="https://pint.readthedocs.io/en/stable/">Pint</a></p>
<aside class="notes">
<p>Suffixes in field names</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sql-comments" class="slide level2">
<h2>SQL comments</h2>
<pre><code>COMMENT ON COLUMN planetas.día_h IS 'período de rotación, en horas'</code></pre>

<img data-src="img/with_comment.png" alt="Table description with column comment" class="r-stretch quarto-figure-center"></section></section>
<section id="quipu-redux" class="title-slide slide level1 center">
<h1>Quipu redux</h1>

<img data-src="https://essentials.neh.gov/sites/default/files/quipu_v1.jpg" alt="quipu" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Can interpret numbers</p>
<p>Cannot interpret anchor knots colors - metadata</p>
<p>Alien invasion - protect and preserve</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section>
<section id="open-khipu" class="title-slide slide level1 center">
<h1>Open Khipu</h1>

<img data-src="img/open-khipu.png" alt="Open Khipu repo" class="r-stretch quarto-figure-center"><aside class="notes">
<p>But let’s end on a happy note! There’s a large open-data database of data meticulously describing thousands of quipu that have survived.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="datasette-lite-for-quipu" class="slide level2">
<h2>Datasette-Lite for quipu</h2>
<p><a href="https://lite.datasette.io/?url=https://github.com/khipulab/open-khipu-repository/blob/master/khipu.db">https://lite.datasette.io/?url=https://github.com/khipulab/open-khipu-repository/blob/master/khipu.db</a></p>
<aside class="notes">
<p>And, because it’s a SQLite database posted to the web, you guessed it, we can use Datasette-Lite to browse it, right where it is, writing no code.</p>
<p>Published in SQLite, browsable with datasette</p>
<p>Modern data technology - to ancient one</p>
<p>Maybe even help researchers restore lost metadata</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>

<img src="img/pycon-colombia.svg" class="slide-logo r-stretch"><div class="footer footer-default">
<p>https://github.com/catherinedevlin/talks/</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="data-clarity-and-blur_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="data-clarity-and-blur_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>