<!DOCTYPE html>
<html lang="en"><head>
<script src="database-superpowers_files/libs/clipboard/clipboard.min.js"></script>
<script src="database-superpowers_files/libs/quarto-html/tabby.min.js"></script>
<script src="database-superpowers_files/libs/quarto-html/popper.min.js"></script>
<script src="database-superpowers_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="database-superpowers_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="database-superpowers_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="database-superpowers_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="database-superpowers_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.340">

  <meta name="author" content="Catherine Devlin">
  <meta name="dcterms.date" content="2023-09-08">
  <title>Database Superpowers</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="database-superpowers_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="database-superpowers_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="database-superpowers_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="database-superpowers_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="database-superpowers_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="database-superpowers_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="database-superpowers_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Database Superpowers</h1>
  <p class="subtitle">OLF 2023</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Catherine Devlin 
</div>
</div>
</div>

  <p class="date">2023-09-08</p>
</section>
<section class="slide level2">

<p>Tools used</p>
<ul>
<li>Quarto</li>
<li>cog</li>
<li>Midjourney</li>
<li>ImageMagick</li>
<li>Pinta</li>
</ul>
</section>
<section class="slide level2">


<img data-src="img/captain-columbus.png" alt="Captain Columbus" class="r-stretch quarto-figure-center"><aside class="notes">
<ul>
<li>Grant for regional crimefighting</li>
<li>Digital divide</li>
<li>FOSS</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="open-source-databases" class="slide level2">
<h2>Open-source databases</h2>
<ul>
<li>PostgreSQL</li>
<li>SQLite</li>
<li>Nine hundred bazillion more</li>
</ul>
<aside class="notes">
<p>Scope</p>
<p>I am not the one to tell you the cool things about the others</p>
<p>These are common, but common doesn’t mean uncool</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="introducing-chelnik" class="slide level2">
<h2>Introducing <a href="https://twitter.com/ChelnikTravels">Chelnik</a></h2>

<img data-src="img/chelnik.jpg" alt="Small crocheted blue elephant" class="r-stretch quarto-figure-center"><aside class="notes">
<p>The other databases are cool, but do they have an adorable blue elephant?</p>
<p>Capt.&nbsp;C was still skeptical…</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/chelnik-masked.jpg" alt="Chelnik the PostgreSQL elephant, in superhero mask" class="r-stretch quarto-figure-center"></section>
<section id="apologies" class="title-slide slide level1 center">
<h1>Apologies</h1>

<img data-src="img/chaos.png" alt="Chaotic comic scene" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Mishmash, no thematic consistency</p>
<p>Whirlwind, eclectic tour: Demos and brief shout-outs</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section>
<section id="outline" class="title-slide slide level1 center">
<h1>Outline</h1>
<ul>
<li>Shape of data</li>
<li>Pandas / Jupyter</li>
<li>Plain SQL</li>
<li>Advanced SQL</li>
<li>SQLite
<ul>
<li>simple != weak</li>
<li>datasette</li>
</ul></li>
</ul>
</section>
<section class="slide level2">


<img data-src="img/postgresql-homepage.png" alt="PostgreSQL homepage" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Classic database server</p>
<p>Complete and powerful</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/sqlite-homepage.png" alt="SQLite homepage" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Lightweight, basic (but efficient) database server</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<table>
<thead>
<tr class="header">
<th></th>
<th style="text-align: left;">PostgreSQL</th>
<th style="text-align: left;">SQLite</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td style="text-align: left;">server</td>
<td style="text-align: left;">library</td>
</tr>
<tr class="even">
<td>watchword</td>
<td style="text-align: left;">powerful</td>
<td style="text-align: left;">lightweight</td>
</tr>
<tr class="odd">
<td>SQL</td>
<td style="text-align: left;">compliant</td>
<td style="text-align: left;">incomplete</td>
</tr>
<tr class="even">
<td>Readers</td>
<td style="text-align: left;">many</td>
<td style="text-align: left;">many</td>
</tr>
<tr class="odd">
<td>Writers</td>
<td style="text-align: left;">many</td>
<td style="text-align: left;">one</td>
</tr>
</tbody>
</table>
</section></section>
<section id="seating-amnesty-break" class="title-slide slide level1 center">
<h1>Seating amnesty break</h1>

</section>

<section>
<section id="the-mighty-rectangle" class="title-slide slide level1 center">
<h1>The Mighty Rectangle</h1>

<img data-src="img/spreadsheet.png" alt="spreadsheet" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Ubiquitious, easy, and flawed</p>
<p>Power 1, Power 2, …</p>
<p>Power 4?</p>
<p>Which col to search?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="relationships" class="slide level2">
<h2>Relationships</h2>
<pre class="{ sql }"><code>select * from powers;

select * from supers;
</code></pre>
<aside class="notes">
<p>00-foreign-keys.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="join" class="slide level2">
<h2>Join</h2>
<pre class="{ sql }"><code>select
    s.name,
    s.tagline,
    p.name as power
from supers s
join powers p on (p.super_id = s.id)
order by s.id;
</code></pre>
<aside class="notes">
<p>01-join.sql</p>
<p>Well now you’ve got a rectangle again. But at least it isn’t stored this way.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="view" class="slide level2">
<h2>View</h2>
<pre class="{ sql }"><code>CREATE OR REPLACE VIEW supers_w_powers AS
SELECT
    s.name,
    s.tagline,
    p.name AS power
FROM supers s
JOIN powers p ON (p.super_id = s.id)
ORDER BY s.id;
</code></pre>
<aside class="notes">
<p>02-view.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT *
FROM supers_w_powers
WHERE tagline IS NOT NULL;
</code></pre>
<aside class="notes">
<p>03-use_view.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="materialized-view" class="slide level2">
<h2>Materialized view</h2>
<pre class="{ sql }"><code>CREATE MATERIALIZED VIEW supers_w_powers_mv AS
SELECT *
FROM supers_w_powers;
REFRESH MATERIALIZED VIEW supers_w_powers_mv;
CREATE INDEX ON supers_w_powers_mv (name);

SELECT *
FROM supers_w_powers_mv
WHERE name LIKE 'Captain%';
</code></pre>
<aside class="notes">
<p>04-matview.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>(not SQLite)</p>
</section>
<section id="many-to-many" class="slide level2">
<h2>Many-to-many</h2>
<pre class="{ sql }"><code>SELECT
    name,
    power
FROM supers_w_powers
WHERE
    power LIKE '%speed%'
    OR power LIKE '%strength%'
    OR power LIKE '%flight%'
ORDER BY power, name;
</code></pre>
<aside class="notes">
<p>05-many-to-many-problem.sql</p>
<p>Store powers more than once</p>
<ul>
<li>storage</li>
<li>discrepancy</li>
<li>single power - all</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT * FROM powers_mtm;
</code></pre>
<aside class="notes">
<p>06-display_powers_mtm.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<pre class="{ sql }"><code>SELECT * FROM super_to_power;
</code></pre>
<aside class="notes">
<p>07-display_super_to_power.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 223.25 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>
P
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-112 219.25,-112 219.25,4 -4,4"></polygon> <!-- supers --> <g id="node1" class="node">
<title>
supers
</title>
<ellipse fill="none" stroke="black" cx="38.79" cy="-90" rx="35.92" ry="18"></ellipse> <text text-anchor="middle" x="38.79" y="-85.8" font-family="Times,serif" font-size="14.00">supers</text> </g> <!-- super_to_power_mtm --> <g id="node2" class="node">
<title>
super_to_power_mtm
</title>
<ellipse fill="none" stroke="black" cx="95.79" cy="-18" rx="95.58" ry="18"></ellipse> <text text-anchor="middle" x="95.79" y="-13.8" font-family="Times,serif" font-size="14.00">super_to_power_mtm</text> </g> <!-- supers&#45;&gt;super_to_power_mtm --> <g id="edge1" class="edge">
<title>
supers-&gt;super_to_power_mtm
</title>
<path fill="none" stroke="black" d="M51.72,-73.12C58.7,-64.54 67.48,-53.77 75.36,-44.09"></path> <polygon fill="black" stroke="black" points="78.11,-46.26 81.71,-36.29 72.68,-41.84 78.11,-46.26"></polygon> </g> <!-- powers_mtm --> <g id="node3" class="node">
<title>
powers_mtm
</title>
<ellipse fill="none" stroke="black" cx="153.79" cy="-90" rx="61.42" ry="18"></ellipse> <text text-anchor="middle" x="153.79" y="-85.8" font-family="Times,serif" font-size="14.00">powers_mtm</text> </g> <!-- powers_mtm&#45;&gt;super_to_power_mtm --> <g id="edge2" class="edge">
<title>
powers_mtm-&gt;super_to_power_mtm
</title>
<path fill="none" stroke="black" d="M140.04,-72.41C133,-63.91 124.27,-53.37 116.43,-43.91"></path> <polygon fill="black" stroke="black" points="118.91,-41.42 109.84,-35.96 113.52,-45.89 118.91,-41.42"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Relationship not to each other, but to a</p>
<p>join table, bridging table</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT
    s.id,
    s.name,
    s.tagline,
    p.name
FROM supers s
JOIN super_to_power sp ON (sp.super_id = s.id)
JOIN powers_mtm p ON (sp.power_id = p.id)
ORDER BY s.id, p.id;
</code></pre>
<aside class="notes">
<p>08-many-to-many-query.sql</p>
<p>This can also be wrapped in a view.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="other-shapes" class="title-slide slide level1 center">
<h1>Other shapes</h1>

<img data-src="img/thinker.jpg" alt="The Thinker, sculpture at Cleveland Museum of Art" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Relational <em>can</em> model anything, but maybe not always ideal</p>
<p>Thinker sends us data about superhero battles</p>
<p>JSON format</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="documents" class="slide level2">
<h2>Documents</h2>
<pre><code>[{'issue': 1,
'venue': 'Air Force museum',
'sides': {'villains': {'objective': 'Steal B-52',
    'success': False,
    'participants': {'Orville Wrong': {'consequences': {'captured': False,
    'injuries': ['black eye']}},
    'Wilbur Wrong': {'consequences': {'captured': False}}}},
'heroes': {'participants': {'Captain Columbus': {'consequences': []},
    'Cardinal Virtue': {'consequences': ['sprained wing',
    'ruffled feathers']}}},
'property loss': ['B-52 damaged', 'SPAD VII stolen']}},
{'issue': 2,
'venue': 'Purple People Bridge',
'sides': {'heroes': {'objective': "learn villains' plans",
    'success': True,
    'participants': {'Ohio Gosaimasu': {'consequences': {'captured': True}}}},
'villains': {'objective': 'capture hero',
    'success': True,
    'participants': {'Nell Strongarm': {'consequences': []},
    'Henry Fnord': {'consequences': []}}},
'property loss': ['Segway thrown into river']}}]</code></pre>
<aside class="notes">
<ul>
<li>Hard to model as related tables</li>
<li>Tons of joins - awkward and slow</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="store-in-postgresql" class="slide level2">
<h2>Store in PostgreSQL</h2>
<pre class="{ sql }"><code>DROP TABLE IF EXISTS battles CASCADE;
create table battles (id serial primary key, battle jsonb);
insert into battles (battle)
values ('
{
  "issue": 1,
  "venue": "Air Force museum",
  "sides": {
    "villains": {
      "objective": "Steal B-52",
      "success": false,
      "participants": {
        "Orville Wrong": {
          "consequences": {
            "captured": false,
            "injuries": [
              "black eye"
            ]
          }
        },
        "Wilbur Wrong": {
          "consequences": {
            "captured": false
          }
        }
      }
    },
    "heroes": {
      "participants": {
        "Captain Columbus": {
          "consequences": []
        },
        "Cardinal Virtue": {
          "consequences": [
            "sprained wing",
            "ruffled feathers"
          ]
        }
      }
    },
    "property loss": [
      "B-52 damaged",
      "SPAD VII stolen"
    ]
  }
}'
  ),
  ('
{
  "issue": 2,
  "venue": "Purple People Bridge",
  "sides": {
    "heroes": {
      "objective": "learn villains'' plans",
      "success": true,
      "participants": {
        "Ohio Gosaimasu": {
          "consequences": {
            "captured": true
          }
        }
      }
    },
    "villains": {
      "objective": "capture hero",
      "success": true,
      "participants": {
        "Nell Strongarm": {
          "consequences": []
        },
        "Henry Fnord": {
          "consequences": []
        }
      }
    },
    "property loss": [
      "Segway thrown into Ohio river"
    ]
  }
}'
  );</code></pre>
<aside class="notes">
<p>09-doc-in-pg.sql</p>
<p>Stuck a SQL string into a text field?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="query" class="slide level2">
<h2>Query</h2>
<pre class="{ sql }"><code>select
    battle -&gt; 'venue' as venue,
    battle -&gt; 'sides' -&gt; 'villains' -&gt; 'participants' as villains,
    battle -&gt; 'property loss'
from battles
where battle -&gt; 'sides' -&gt; 'villains' -&gt;&gt; 'success' = 'false';
</code></pre>
<aside class="notes">
<p>10-json-query.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>jq-like <a href="https://github.com/obartunov/sqljsondoc/blob/master/jsonpath.md">jsonpath: SQL/JSON</a></p>
</section>
<section id="index" class="slide level2">
<h2>Index</h2>
<pre class="{ sql }"><code>CREATE INDEX ON battles ((battle -&gt;&gt; 'venue'));
</code></pre>
<aside class="notes">
<p>11-json-index.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="other-document-options" class="slide level2">
<h2>Other document options</h2>
</section>
<section id="document-database" class="slide level2">
<h2>Document database</h2>
<pre class="{ sh }"><code>mongosh mongodb://$PGUSER:$PGPASSWORD@127.0.0.1/ferretdb?authMechanism=PLAIN
</code></pre>
<aside class="notes">
<p>12-mongo-connect.sh</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<pre class="{ js }"><code>db.battles.find({venue: 'Air Force museum'})</code></pre>
<aside class="notes">
<p>13-battles.js</p>
<p>You like the MongoDB API, Mongo query-by-example</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/ferretdb.png" alt="FerretDB: document database hosted on PostgreSQL" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Surprise!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ferretdb-hosted-on-postgresql" class="slide level2">
<h2>FerretDB: hosted on PostgreSQL</h2>
<pre><code>$ sudo apt-get install ferretdb
$ ferretdb --postgresql-url=postgres://$PGUSER:$PGPASSWORD@localhost:$PGPORT/$PGDATABASE</code></pre>
</section>
<section id="ferretdb-on-sqlite" class="slide level2">
<h2>FerretDB on SQLite</h2>

<img data-src="img/ferretdb-on-sqlite.png" alt="FerretDB on SQLite" class="r-stretch quarto-figure-center"></section>
<section id="foreign-data-wrapper" class="slide level2">
<h2>Foreign Data Wrapper</h2>

<img data-src="img/mongo_fdw_gh.png" alt="mongo_fdw GitHub page" class="r-stretch quarto-figure-center"></section>
<section id="graphs" class="slide level2">
<h2>Graphs</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 336.10 221.60" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 217.6)">
<title>
P
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-217.6 332.1,-217.6 332.1,4 -4,4"></polygon> <!-- node 0 --> <g id="node1" class="node">
<title>
node 0
</title>
<ellipse fill="none" stroke="black" cx="129.05" cy="-195.6" rx="37.1" ry="18"></ellipse> <text text-anchor="middle" x="129.05" y="-191.4" font-family="Times,serif" font-size="14.00">node 0</text> </g> <!-- node 2 --> <g id="node2" class="node">
<title>
node 2
</title>
<ellipse fill="none" stroke="black" cx="37.05" cy="-106.8" rx="37.1" ry="18"></ellipse> <text text-anchor="middle" x="37.05" y="-102.6" font-family="Times,serif" font-size="14.00">node 2</text> </g> <!-- node 0&#45;&gt;node 2 --> <g id="edge1" class="edge">
<title>
node 0-&gt;node 2
</title>
<path fill="none" stroke="black" d="M112.6,-179.08C98.21,-165.5 77.13,-145.61 60.89,-130.29"></path> <polygon fill="black" stroke="black" points="63.03,-127.5 53.36,-123.18 58.23,-132.59 63.03,-127.5"></polygon> <text text-anchor="middle" x="105.26" y="-147" font-family="Times,serif" font-size="14.00">edge</text> </g> <!-- node 3 --> <g id="node3" class="node">
<title>
node 3
</title>
<ellipse fill="none" stroke="black" cx="129.05" cy="-106.8" rx="37.1" ry="18"></ellipse> <text text-anchor="middle" x="129.05" y="-102.6" font-family="Times,serif" font-size="14.00">node 3</text> </g> <!-- node 0&#45;&gt;node 3 --> <g id="edge2" class="edge">
<title>
node 0-&gt;node 3
</title>
<path fill="none" stroke="black" d="M129.05,-177.45C129.05,-165.32 129.05,-148.82 129.05,-134.92"></path> <polygon fill="black" stroke="black" points="132.55,-134.91 129.05,-124.91 125.55,-134.91 132.55,-134.91"></polygon> <text text-anchor="middle" x="142.26" y="-147" font-family="Times,serif" font-size="14.00">edge</text> </g> <!-- node 4 --> <g id="node5" class="node">
<title>
node 4
</title>
<ellipse fill="none" stroke="black" cx="199.05" cy="-18" rx="37.1" ry="18"></ellipse> <text text-anchor="middle" x="199.05" y="-13.8" font-family="Times,serif" font-size="14.00">node 4</text> </g> <!-- node 0&#45;&gt;node 4 --> <g id="edge5" class="edge">
<title>
node 0-&gt;node 4
</title>
<path fill="none" stroke="black" d="M144.08,-178.96C149.21,-173.15 154.73,-166.34 159.05,-159.6 181.61,-124.39 191.7,-76.26 196.03,-46.43"></path> <polygon fill="black" stroke="black" points="199.52,-46.7 197.37,-36.32 192.58,-45.77 199.52,-46.7"></polygon> <text text-anchor="middle" x="200.26" y="-102.6" font-family="Times,serif" font-size="14.00">edge</text> </g> <!-- node 3&#45;&gt;node 4 --> <g id="edge6" class="edge">
<title>
node 3-&gt;node 4
</title>
<path fill="none" stroke="black" d="M138.02,-89.2C144.06,-78.66 152.56,-64.98 161.62,-54 165.3,-49.54 169.53,-45.09 173.78,-40.93"></path> <polygon fill="black" stroke="black" points="176.47,-43.21 181.36,-33.82 171.68,-38.11 176.47,-43.21"></polygon> <text text-anchor="middle" x="174.26" y="-58.2" font-family="Times,serif" font-size="14.00">edge</text> </g> <!-- node 1 --> <g id="node4" class="node">
<title>
node 1
</title>
<ellipse fill="none" stroke="black" cx="287.05" cy="-106.8" rx="37.1" ry="18"></ellipse> <text text-anchor="middle" x="287.05" y="-102.6" font-family="Times,serif" font-size="14.00">node 1</text> </g> <!-- node 1&#45;&gt;node 4 --> <g id="edge3" class="edge">
<title>
node 1-&gt;node 4
</title>
<path fill="none" stroke="black" d="M271.32,-90.28C257.55,-76.7 237.39,-56.81 221.85,-41.49"></path> <polygon fill="black" stroke="black" points="224.22,-38.91 214.65,-34.38 219.31,-43.9 224.22,-38.91"></polygon> <text text-anchor="middle" x="263.26" y="-58.2" font-family="Times,serif" font-size="14.00">edge</text> </g> <!-- node 5 --> <g id="node6" class="node">
<title>
node 5
</title>
<ellipse fill="none" stroke="black" cx="291.05" cy="-18" rx="37.1" ry="18"></ellipse> <text text-anchor="middle" x="291.05" y="-13.8" font-family="Times,serif" font-size="14.00">node 5</text> </g> <!-- node 1&#45;&gt;node 5 --> <g id="edge4" class="edge">
<title>
node 1-&gt;node 5
</title>
<path fill="none" stroke="black" d="M287.84,-88.65C288.4,-76.52 289.16,-60.02 289.8,-46.12"></path> <polygon fill="black" stroke="black" points="293.3,-46.26 290.26,-36.11 286.31,-45.94 293.3,-46.26"></polygon> <text text-anchor="middle" x="302.26" y="-58.2" font-family="Times,serif" font-size="14.00">edge</text> </g> </g>
</svg>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/fnord.png" alt="Henry Fnord" class="r-stretch quarto-figure-center"><p class="caption">Henry Fnord</p></section>
<section class="slide level2">


<img data-src="img/wrong-brothers.png" alt="Wrong Brothers" class="r-stretch quarto-figure-center"><p class="caption">Wrong Brothers, the Fiends of Flight</p></section>
<section class="slide level2">


<img data-src="img/nell-strongarm2.png" alt="Nell Strongarm" class="r-stretch quarto-figure-center"><p class="caption">Nell Strongarm, Astro-Thug from Wapakoneta</p></section>
<section class="slide level2">


<img data-src="img/innovators.png" alt="Innovators of Iniquity" class="r-stretch quarto-figure-center"></section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT * FROM group_or_member;
</code></pre>
<aside class="notes">
<p>14-group_or_member.sql</p>
<p>Models the nesting</p>
<p>But each row can be a super, or not - awkward</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT s.*
FROM group_or_member i
JOIN group_or_member i_mem
    ON (i_mem.belongs_to = i.id)
LEFT JOIN group_or_member i_subgrp_mem
    ON (i_subgrp_mem.belongs_to = i_mem.id)
JOIN supers s
    ON (
        s.id = i_mem.super_id
        OR s.id = i_subgrp_mem.super_id
    )
WHERE i.name = 'Innovators of Iniquity';
</code></pre>
<aside class="notes">
<p>15-innovators-rel.sql</p>
<p>What if it were nested more deeply?</p>
<p>What if it were arbitrarily nested?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="recursive-cte" class="slide level2">
<h2>Recursive CTE</h2>
<p><a href="https://tech.ingrid.com/sql-as-graph-database/">Using PostgreSQL as a graph database</a> by Krzysztof Dryś</p>
</section>
<section id="recursive-cte-in-sqlite" class="slide level2">
<h2><a href="https://www.sqlite.org/lang_with.html">Recursive CTE in SQLite</a></h2>

<img data-src="img/recursive-sqlite.png" alt="Recursive CTE in SQLite" class="r-stretch quarto-figure-center"></section>
<section id="apache-age" class="slide level2">
<h2><a href="https://age.apache.org/">Apache AGE</a></h2>
<p>Learn Cyper from <a href="https://neo4j.com/developer/cypher/">Neo4j</a></p>

<img data-src="img/apache_age.png" alt="Apache AGE webpage" class="r-stretch quarto-figure-center"></section>
<section id="define-graph" class="slide level2">
<h2>Define graph</h2>
<pre class="{ sql }"><code>load 'age';
SET search_path = ag_catalog, "$user", public;
select drop_graph('knowledge', true);
select create_graph('knowledge');

SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "The Trilobite", align: NULL, 
          tagline: "Caped Cambrian", based_in: "Silvania" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Putin Bae", align: "villain", 
          tagline: "Rasslin’ Russophile", based_in: "Mansfield" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Cardinal Virtue", align: "hero", 
          tagline: "Redbird of Righteousness", based_in: "Cincinnati" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Orville Wrong", align: "villain", 
          tagline: "Fiend of Flight", based_in: "Dayton" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Wilbur Wrong", align: "villain", 
          tagline: "Fiend of Flight", based_in: "Dayton" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Henry Fnord", align: "villain", 
          tagline: "Mass-Producer of Mayhem", based_in: "Dearborn" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Nell Strongarm", align: "villain", 
          tagline: "Astro-Thug", based_in: "Wapokoneta" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "The Thinker", align: "hero", 
          tagline: "None", based_in: "Cleveland" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Blue Jacket", align: "hero", 
          tagline: "None", based_in: "Chillicothe" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Captain Columbus", align: "hero", 
          tagline: "Protector of Ohio", based_in: "Columbus" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Buckeye Bullet", align: "hero", 
          tagline: "None", based_in: "Cleveland" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Annie Oakley", align: "hero", 
          tagline: "Little Miss Sure Shot", based_in: "Greenville" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "The Stealer", align: "villain", 
          tagline: "None", based_in: "Pittsburgh" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Ohio Gosaimasu", align: "hero", 
          tagline: "Sandusky Samurai", based_in: "Sandusky" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "The Hawk King", align: "hero", 
          tagline: "None", based_in: "Hocking Hills" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Airship Alice", align: "villain", 
          tagline: "None", based_in: "Akron" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Motown Menace", align: "villain", 
          tagline: "None", based_in: "Detroit" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Captain Cuyahoga", align: "villain", 
          tagline: "Fire and Water Do Mix", based_in: "Cleveland" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Indian Jane", align: "hero", 
          tagline: "Nazi-punching archaeologist", based_in: "Bloomington" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Defiance Dogman", align: "villain", 
          tagline: "None", based_in: "Defiance" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Loveland Frogman", align: NULL, 
          tagline: "None", based_in: "Loveland" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Marvelous Mudhen", align: "hero", 
          tagline: "None", based_in: "Toledo" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  CREATE (s:Super { name: "Mad Miller", align: NULL, 
          tagline: "None", based_in: "Milan" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Orville Wrong" })
  MATCH (s2:Super { name: "Airship Alice" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Cardinal Virtue" })
  MATCH (s2:Super { name: "Airship Alice" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "The Hawk King" })
  MATCH (s2:Super { name: "Buckeye Bullet" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Ohio Gosaimasu" })
  MATCH (s2:Super { name: "Buckeye Bullet" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Ohio Gosaimasu" })
  MATCH (s2:Super { name: "Cardinal Virtue" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus" })
  MATCH (s2:Super { name: "Cardinal Virtue" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Annie Oakley" })
  MATCH (s2:Super { name: "Cardinal Virtue" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "The Thinker" })
  MATCH (s2:Super { name: "Defiance Dogman" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus" })
  MATCH (s2:Super { name: "Defiance Dogman" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Putin Bae" })
  MATCH (s2:Super { name: "Defiance Dogman" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Cardinal Virtue" })
  MATCH (s2:Super { name: "Henry Fnord" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus" })
  MATCH (s2:Super { name: "Henry Fnord" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Annie Oakley" })
  MATCH (s2:Super { name: "Henry Fnord" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Ohio Gosaimasu" })
  MATCH (s2:Super { name: "Henry Fnord" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Cardinal Virtue" })
  MATCH (s2:Super { name: "Henry Fnord" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Buckeye Bullet" })
  MATCH (s2:Super { name: "Motown Menace" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "The Hawk King" })
  MATCH (s2:Super { name: "Motown Menace" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Cardinal Virtue" })
  MATCH (s2:Super { name: "Nell Strongarm" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Annie Oakley" })
  MATCH (s2:Super { name: "Nell Strongarm" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Henry Fnord" })
  MATCH (s2:Super { name: "Nell Strongarm" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Putin Bae" })
  MATCH (s2:Super { name: "Ohio Gosaimasu" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "The Hawk King" })
  MATCH (s2:Super { name: "Ohio Gosaimasu" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Defiance Dogman" })
  MATCH (s2:Super { name: "Ohio Gosaimasu" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Cardinal Virtue" })
  MATCH (s2:Super { name: "Orville Wrong" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Cardinal Virtue" })
  MATCH (s2:Super { name: "Putin Bae" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus" })
  MATCH (s2:Super { name: "Putin Bae" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Defiance Dogman" })
  MATCH (s2:Super { name: "The Hawk King" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Putin Bae" })
  MATCH (s2:Super { name: "The Hawk King" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Ohio Gosaimasu" })
  MATCH (s2:Super { name: "The Stealer" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Buckeye Bullet" })
  MATCH (s2:Super { name: "The Stealer" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus" })
  MATCH (s2:Super { name: "The Thinker" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus" })
  MATCH (s2:Super { name: "The Trilobite" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Orville Wrong" })
  MATCH (s2:Super { name: "Wilbur Wrong" })
  CREATE (s1)-[:ALLIED_WITH]-&gt;(s2)
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Cardinal Virtue" })
  MATCH (s2:Super { name: "Wilbur Wrong" })
  CREATE (s1)-[:FOUGHT]-&gt;(s2)
 $$) AS (result1 agtype);




SELECT * FROM  
cypher('knowledge', $$
  CREATE (g:Group { name: "Innovators of Iniquity"  })
 $$) AS (result1 agtype);


SELECT * FROM  
cypher('knowledge', $$
  CREATE (g:Group { name: "Wrong Brothers", 
          tagline: "Fiends of Flight", based_in: "Dayton" } )
 $$) AS (result1 agtype);



SELECT * FROM  
cypher('knowledge', $$
  MATCH (g:Group { name: "Wrong Brothers" })
  MATCH (s:Super { name: "Wilbur Wrong" })
  CREATE (g)-[:INCLUDES]-&gt;(s)
 $$) AS (result1 agtype);


SELECT * FROM  
cypher('knowledge', $$
  MATCH (g:Group { name: "Wrong Brothers" })
  MATCH (s:Super { name: "Orville Wrong" })
  CREATE (g)-[:INCLUDES]-&gt;(s)
 $$) AS (result1 agtype);

SELECT * FROM  
cypher('knowledge', $$
  MATCH (g:Group { name: "Innovators of Iniquity" })
  MATCH (s:Super { name: "Henry Fnord" })
  CREATE (g)-[:INCLUDES]-&gt;(s)
 $$) AS (result1 agtype);

SELECT * FROM  
cypher('knowledge', $$
  MATCH (g:Group { name: "Innovators of Iniquity" })
  MATCH (s:Super { name: "Nell Strongarm" })
  CREATE (g)-[:INCLUDES]-&gt;(s)
 $$) AS (result1 agtype);

SELECT * FROM  
cypher('knowledge', $$
  MATCH (g:Group { name: "Innovators of Iniquity" })
  MATCH (g2:Group { name: "Wrong Brothers" })
  CREATE (g)-[:INCLUDES]-&gt;(g2)
 $$) AS (result1 agtype);


SET search_path = "$user", public;









</code></pre>
<aside class="notes">
<p>16-age-setup.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="query-1" class="slide level2">
<h2>Query</h2>
<pre class="{ sql }"><code>LOAD 'age';
SET search_path = ag_catalog, "$user", public;

SELECT * FROM  
cypher('knowledge', $$
  MATCH (g:Group { name: "Innovators of Iniquity"})
  MATCH (g)-[i:INCLUDES*1..]-&gt;(e)
  RETURN g, i, e
 $$) AS (g agtype, i agtype, e agtype);
</code></pre>
<aside class="notes">
<p>17-membership-graph.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="age-viewer" class="title-slide slide level1 center">
<h1>AGE-Viewer</h1>
<pre><code>podman run --publish=3001:3001 docker.io/joefagan/incubator-age-viewer:latest</code></pre>
<p><a href="http://localhost:3001">localhost:3001</a></p>
<aside class="notes">
<p>LOAD THIS BEFORE</p>
<p>running in docker - must use ifconfig!</p>
<p>export PGPORT=5455 database name justice</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="query-through-viewer" class="slide level2">
<h2>Query through viewer</h2>
<pre class="{ sql }"><code>LOAD 'age';
SET search_path = ag_catalog, "$user", public;

SELECT * FROM  
cypher('knowledge', $$
  MATCH (g:Group { name: "Innovators of Iniquity"})
  MATCH (g)-[i:INCLUDES*1..]-&gt;(e)
  RETURN g, i, e
 $$) AS (g agtype, i agtype, e agtype);
</code></pre>
<aside class="notes">
<p>18-membership-graph.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="easy-recursive-search" class="slide level2">
<h2>Easy recursive search</h2>
<pre class="{ sql }"><code>LOAD 'age';
SET search_path = ag_catalog, "$user", public;

SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus"})
  MATCH (s1)-[a:ALLIED_WITH*1..2]-(s2:Super)
  RETURN s1, a, s2 
 $$) AS (result1 agtype, a agtype, s2 agtype);
</code></pre>
<aside class="notes">
<p>19-friend-of-friend2.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="enemy-of-my-enemy" class="slide level2">
<h2>Enemy of my enemy</h2>
<pre class="{ sql }"><code>LOAD 'age';
SET search_path = ag_catalog, "$user", public;

SELECT * FROM  
cypher('knowledge', $$
  MATCH (s1:Super { name: "Captain Columbus"})
  MATCH (s1)-[f1:FOUGHT]-(v:Super)-[f2:FOUGHT]-(s2:Super)
  RETURN s1, f1, v, f2, s2 
 $$) AS (s1 agtype, f1 agtype, v agtype, f2 agtype, s2 agtype);

</code></pre>
<aside class="notes">
<p>20-enemy-of-enemy.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="img/cardinal-virtue.png" alt="Cardinal Virtue" class="r-stretch quarto-figure-center"><p class="caption">Cardinal Virtue, the Redbird of Righteousness</p></section>
<section class="slide level2">


<img data-src="img/o-go.png" alt="Ohio Gosaimasu" class="r-stretch quarto-figure-center"><p class="caption">Ohio Gosaimasu, the Sandusky Samurai</p></section>
<section id="sqlite" class="slide level2">
<h2>SQLite?</h2>
<p><a href="https://github.com/dpapathanasiou/simple-graph">simple-graph</a></p>

<img data-src="img/simple-graph.png" alt="simple-graph" class="r-stretch quarto-figure-center"></section>
<section id="neo4j_fdw" class="slide level2">
<h2>neo4j_fdw</h2>

<img data-src="img/neo4j_fdw.png" alt="neo4j_fdw" class="r-stretch quarto-figure-center"></section>
<section id="so-many-fdws" class="slide level2">
<h2><a href="https://wiki.postgresql.org/wiki/Foreign_data_wrappers">So many FDWs</a></h2>

<img data-src="img/fdws.png" alt="Foreign Data Wrappers" class="r-stretch quarto-figure-center"></section>
<section id="review-non-relational-postgresql" class="slide level2">
<h2>Review: non-relational PostgreSQL</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Document</th>
<th style="text-align: left;">Graph</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">native</td>
<td style="text-align: left;">json, jsonb types</td>
<td style="text-align: left;">recursive CTE</td>
</tr>
<tr class="even">
<td style="text-align: left;">hosted</td>
<td style="text-align: left;">FerretDB</td>
<td style="text-align: left;">Apache AGE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">foreign data wrappers</td>
<td style="text-align: left;">mongo_fdw</td>
<td style="text-align: left;">neo4j_fdw</td>
</tr>
</tbody>
</table>
</section>
<section id="non-relational-sqlite" class="slide level2">
<h2>non-relational SQLite</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Document</th>
<th style="text-align: left;">Graph</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">native</td>
<td style="text-align: left;">JSON functions</td>
<td style="text-align: left;">recursive CTE</td>
</tr>
<tr class="even">
<td style="text-align: left;">hosted</td>
<td style="text-align: left;">FerretDB</td>
<td style="text-align: left;">simple-graph</td>
</tr>
<tr class="odd">
<td style="text-align: left;">foreign data wrappers</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</section>
<section id="go-big" class="slide level2">
<h2>Go big</h2>
<table>
<thead>
<tr class="header">
<th></th>
<th>one machine</th>
<th>distributed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>in memory</td>
<td>SQLite</td>
<td>Apache Ignite</td>
</tr>
<tr class="even">
<td>single file</td>
<td>SQLite</td>
<td>rqlite</td>
</tr>
<tr class="odd">
<td>server-managed</td>
<td>PostgreSQL</td>
<td>CockroachDB</td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="pandas-jupyter" class="title-slide slide level1 center">
<h1>Pandas / Jupyter</h1>
<aside class="notes">
<p>Reason the Mighty Rectangle prevails</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pandas-and-sql" class="slide level2">
<h2>Pandas and SQL</h2>
<p><a href="demo/pandas.ipynb">pandas.ipynb</a></p>
</section>
<section id="object-relational-mappers" class="slide level2">
<h2>Object-Relational Mappers</h2>
<pre class="{ py }"><code>from models import Super, Power  
import sqlalchemy as sa 

engine = sa.create_engine(
    'postgresql://captcbus:forohio@localhost:5455/justice')
with sa.orm.Session(engine) as session:
    stmt = sa.select(Super).where(Super.align == 'hero')
    for super in session.execute(stmt).scalars():
        power_list = ', '.join(p.name for p in super.powers)
        print(f'{super.name} has {power_list}')</code></pre>
<aside class="notes">
<p>21-orm-qry.py</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="orms-the-bad-news" class="slide level2">
<h2>ORMs: the bad news</h2>
<pre class="{ py }"><code>from sqlalchemy.orm import DeclarativeBase, Mapped, mapped_column, relationship, MappedAsDataclass
from sqlalchemy import String, ForeignKey
from typing import Optional, List 

# class Base(MappedAsDataclass, DeclarativeBase):
class Base(DeclarativeBase):
    pass

class Super(Base):
    __tablename__ = "supers"

    id: Mapped[int] = mapped_column(primary_key=True)
    name: Mapped[str] = mapped_column(String)
    align: Mapped[str] = mapped_column(String)
    tagline: Mapped[str] = mapped_column(String)
    based_in: Mapped[str] = mapped_column(String)
    powers: Mapped[List["Power"]] = relationship(
        back_populates="hero"
    )

    def __str__(self):
        return self.nombre

class Power(Base):
    __tablename__ = "powers"

    id: Mapped[int] = mapped_column(primary_key=True)
    name: Mapped[str] = mapped_column(String)
    super_id: Mapped[int] = mapped_column(ForeignKey("supers.id"))
    hero: Mapped["Super"] = relationship(back_populates="powers",)
</code></pre>
<aside class="notes">
<p>22-models.py</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="reducing-orm-labor" class="slide level2">
<h2>Reducing ORM labor</h2>
<ul>
<li>Generate DDL from ORM definitions</li>
<li>Reflection (<code>autoload_with</code>, <code>.reflect</code>) - Core, not ORM</li>
<li>Dataclass integration</li>
</ul>
</section>
<section id="dataclass-integration" class="slide level2">
<h2>Dataclass integration</h2>
<pre class="{ py }"><code>from models import Super, Power  
import sqlalchemy as sa 
from pprint import pprint

engine = sa.create_engine(
    'postgresql://captcbus:forohio'
    '@localhost:5455/justice')
with sa.orm.Session(engine) as session:

    stmt = sa.select(Super).where(
        Super.name == 'Ohio Gosaimasu')
    pprint(session.execute(stmt).first()[0])</code></pre>
<aside class="notes">
<p>23-orm-dataclass.py</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="query-builders" class="slide level2">
<h2>Query builders</h2>
<pre class="{ py }"><code>import pypika as pk

supers, powers = pk.Tables('supers', 'powers')
print (pk.Query 
    .from_(supers) 
    .select(supers.star, powers.name)
    .where(supers.align == 'hero')
    .on(powers.super_id == supers.id)
    .join(powers) 
    .where(supers.name &gt; 'M'))
</code></pre>
<aside class="notes">
<p>24-query-builder.py</p>
<p>At the border between writing raw SQL and an ORM, consider a query builder.</p>
<p>SQL-based syntax (so, yes, another syntax to learn) - all the same concepts and keywords</p>
<p>SQL syntax is picky - this is more freeform and composable</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="plain-sql" class="title-slide slide level1 center">
<h1>Plain SQL</h1>
<p>Ask what it can do for you</p>
</section>
<section id="hugsql-pugsql" class="slide level2">
<h2>HugSQL / <a href="https://pugsql.org/">PugSQL</a></h2>
<p>pugsql_queries/supers_by_power.py:</p>
</section>
<section class="slide level2">

<pre class="{ py }"><code>import pugsql

queries = pugsql.module('pugsql_queries/')
queries.connect(
    'postgresql://captcbus:forohio'
    '@localhost:5455/justice')
for row in queries.supers_by_power(power='%light'):
    print(row)
</code></pre>
<aside class="notes">
<p>25-use-pugsql.py</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>Also: HugSQL (Clojure), HugSQLx (Rust), hugsql.js</p>
</section>
<section id="migrations-agnostic" class="slide level2">
<h2>Migrations: <a href="https://agnostic.readthedocs.io">Agnostic</a></h2>
<pre><code>$ cat migrations/add_weaknesses.sql
create table weaknesses (
    id serial primary key,
    super_id integer references supers (id),
    name text not null
);

$ agnostic -t postgres -u $PGUSER \
   -p $PGPASSWORD -d $PGDATABASE \
   -p $PGPORT migrate</code></pre>
<aside class="notes">
<p>Track database structure changes Associate them to commit in your VC history</p>
<p>Not running this one live!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="transformations-dbt" class="slide level2">
<h2>Transformations: <a href="https://www.getdbt.com/">dbt</a></h2>

<img data-src="img/dbt.png" alt="dbt" class="r-stretch quarto-figure-center"></section>
<section id="rich-feature-set" class="slide level2">
<h2>Rich feature set</h2>
<ul>
<li>Inheritance</li>
<li>Window functions</li>
<li>Custom types</li>
<li>PL/everything stored procedures</li>
</ul>
<aside class="notes">
<p>PostgreSQL only</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="advanced-sql-functions" class="slide level2">
<h2>Advanced SQL functions</h2>

<img data-src="img/trilobite.png" alt="The Trilobite, the Caped Cambrian" class="r-stretch quarto-figure-center"></section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT * FROM raw_locations;
</code></pre>
<aside class="notes">
<p>26-raw-locations.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT
    city,
    string_to_array(
        loc_list, ', ')
FROM raw_locations;
</code></pre>
<aside class="notes">
<p>27-raw-loc-to-array.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT
    city,
    unnest(
        string_to_array(
            loc_list, ', '))
FROM raw_locations;
</code></pre>
<aside class="notes">
<p>28-raw-loc-to-rows.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="similar-to" class="slide level2">
<h2>SIMILAR TO</h2>
<pre class="{ sql }"><code>SELECT
    name,
    power
FROM supers_w_powers
WHERE
    power LIKE '%speed%'
    OR power LIKE '%strength%'
    OR power LIKE '%flight%'
ORDER BY power, name;
</code></pre>
<aside class="notes">
<p>29-many-to-many-problem.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<pre class="{ sql }"><code>SELECT
    name,
    power
FROM supers_w_powers
WHERE power SIMILAR TO 
    '%(speed|strength|flight)%'
ORDER BY power, name;
</code></pre>
<aside class="notes">
<p>30-similar-to.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>… or POSIX regular expressions</p>
<aside class="notes">
<p>LIKE OR… LIKE OR</p>
<p>Regexes,</p>
<p>But you can think of them as multiple-like</p>
<section id="distinct-on" class="slide level2">
<h2>DISTINCT ON</h2>
<pre class="{ sql }"><code>select distinct on (based_in)
    name,
    based_in
from supers
order by based_in, name;
</code></pre>
<aside class="notes">
<p>31-distinct-on.sql</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="what-about-sqlite" class="title-slide slide level1 center">
<h1>What about SQLite</h1>
<p>Yes:</p>
<p>ORMs, Pandas, jupysql, PugSQL, Agnostic</p>
<p>No:</p>
<p>dbt, advanced SQL</p>
<aside class="notes">
<p>No cute animal logo</p>
<p>But let’s sing its praises anyway</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="simplicity" class="slide level2">
<h2>Simplicity</h2>
<ul>
<li>No server</li>
<li>Python Standard Library support</li>
</ul>
<aside class="notes">
<p>beloved for quick projects, demos, single-user apps</p>
<p>serverless: file format + libraries to access</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="smallness" class="slide level2">
<h2>Smallness</h2>
</section>
<section id="sqlite-for-application-files" class="slide level2">
<h2><a href="https://www.sqlite.org/appfileformat.html">SQLite for Application Files</a></h2>

<img data-src="img/sqlite-app-file.png" alt="Article titled: SQL as an Application File Format" class="r-stretch quarto-figure-center"><aside class="notes">
<p>In fact, it’s so simple that you can use it when you weren’t even thinking about using a database at all - you were just looking for a data storage file format. Because it’s an efficient and versatile format. There’s a good discussion of that in the SQLite docs.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="simple-weak" class="slide level2">
<h2>Simple != Weak</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="960" height="480" viewbox="0.00 0.00 504.80 188.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none; display: block; margin: auto auto auto auto">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>
P
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-184 500.8,-184 500.8,4 -4,4"></polygon> <!-- Data source --> <g id="node1" class="node">
<title>
Data source
</title>
<ellipse fill="none" stroke="black" cx="248.4" cy="-162" rx="56.77" ry="18"></ellipse> <text text-anchor="middle" x="248.4" y="-157.8" font-family="Times,serif" font-size="14.00">Data source</text> </g> <!-- SQLite --> <g id="node2" class="node">
<title>
SQLite
</title>
<ellipse fill="none" stroke="black" cx="248.4" cy="-90" rx="38.86" ry="18"></ellipse> <text text-anchor="middle" x="248.4" y="-85.8" font-family="Times,serif" font-size="14.00">SQLite</text> </g> <!-- Data source&#45;&gt;SQLite --> <g id="edge1" class="edge">
<title>
Data source-&gt;SQLite
</title>
<path fill="none" stroke="black" d="M248.4,-143.7C248.4,-135.98 248.4,-126.71 248.4,-118.11"></path> <polygon fill="black" stroke="black" points="251.9,-118.1 248.4,-108.1 244.9,-118.1 251.9,-118.1"></polygon> </g> <!-- reader 1 --> <g id="node3" class="node">
<title>
reader 1
</title>
<ellipse fill="none" stroke="black" cx="42.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="42.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 1</text> </g> <!-- SQLite&#45;&gt;reader 1 --> <g id="edge2" class="edge">
<title>
SQLite-&gt;reader 1
</title>
<path fill="none" stroke="black" d="M218,-78.67C182.61,-66.65 123.96,-46.71 84.27,-33.23"></path> <polygon fill="black" stroke="black" points="85.21,-29.85 74.62,-29.95 82.96,-36.48 85.21,-29.85"></polygon> </g> <!-- reader 2 --> <g id="node4" class="node">
<title>
reader 2
</title>
<ellipse fill="none" stroke="black" cx="145.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="145.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 2</text> </g> <!-- SQLite&#45;&gt;reader 2 --> <g id="edge3" class="edge">
<title>
SQLite-&gt;reader 2
</title>
<path fill="none" stroke="black" d="M227.06,-74.5C212.1,-64.33 191.91,-50.61 175.35,-39.36"></path> <polygon fill="black" stroke="black" points="177.3,-36.45 167.07,-33.73 173.37,-42.24 177.3,-36.45"></polygon> </g> <!-- reader 3 --> <g id="node5" class="node">
<title>
reader 3
</title>
<ellipse fill="none" stroke="black" cx="248.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="248.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 3</text> </g> <!-- SQLite&#45;&gt;reader 3 --> <g id="edge4" class="edge">
<title>
SQLite-&gt;reader 3
</title>
<path fill="none" stroke="black" d="M248.4,-71.7C248.4,-63.98 248.4,-54.71 248.4,-46.11"></path> <polygon fill="black" stroke="black" points="251.9,-46.1 248.4,-36.1 244.9,-46.1 251.9,-46.1"></polygon> </g> <!-- reader 4 --> <g id="node6" class="node">
<title>
reader 4
</title>
<ellipse fill="none" stroke="black" cx="351.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="351.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 4</text> </g> <!-- SQLite&#45;&gt;reader 4 --> <g id="edge5" class="edge">
<title>
SQLite-&gt;reader 4
</title>
<path fill="none" stroke="black" d="M269.74,-74.5C284.69,-64.33 304.88,-50.61 321.45,-39.36"></path> <polygon fill="black" stroke="black" points="323.43,-42.24 329.73,-33.73 319.49,-36.45 323.43,-42.24"></polygon> </g> <!-- reader 5 --> <g id="node7" class="node">
<title>
reader 5
</title>
<ellipse fill="none" stroke="black" cx="454.4" cy="-18" rx="42.3" ry="18"></ellipse> <text text-anchor="middle" x="454.4" y="-13.8" font-family="Times,serif" font-size="14.00">reader 5</text> </g> <!-- SQLite&#45;&gt;reader 5 --> <g id="edge6" class="edge">
<title>
SQLite-&gt;reader 5
</title>
<path fill="none" stroke="black" d="M278.79,-78.67C314.18,-66.65 372.84,-46.71 412.52,-33.23"></path> <polygon fill="black" stroke="black" points="413.84,-36.48 422.18,-29.95 411.58,-29.85 413.84,-36.48"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Python “scripting” language?</p>
<p>large amounts OK</p>
<p>lots of users / processes OK</p>
<p>Publish data, updated occasionally</p>
<p>lots of writers: not OK</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="baked-data" class="slide level2">
<h2>Baked data</h2>
<p>Simon Willison: <a href="https://simonwillison.net/2021/Jul/28/baked-data/">The Baked Data architectural pattern</a></p>

<img data-src="img/baked-data.png" alt="Baked Data article" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Simon Willison wrote this great article on cheaply and easily hosting an application if it relies on infrequently-updated data. Just put that data in a single-file database like SQLite, and a cheap and basic real or virtual server can handle the dynamic part.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="datasette" class="slide level2">
<h2>Datasette</h2>
<p><a href="http://localhost:8001/">datasette data/supers.sqlite</a></p>

<img data-src="img/datasette-map.png" alt="Datasette page with map" class="r-stretch quarto-figure-center"><aside class="notes">
<p>Explore, visualize tool</p>
<p>Plugins for leaflet, dashboards,</p>
<p>Simple as SQLite itself</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="datasette-lite" class="slide level2">
<h2>Datasette-lite</h2>
<p><a href="https://lite.datasette.io/?url=https://github.com/catherinedevlin/talks/blob/master/olf_2003/supers.sqlite">https://lite.datasette.io/?url=https://github.com /catherinedevlin/talks/blob/master /olf_2003/supers.sqlite</a></p>
<aside class="notes">
<p>blurring boundaries: PyIodide</p>
<p>Simon Willison did this with Datasette!</p>
<p>Why would I put this long ugly URL on my slide?</p>
<p>Only code!</p>
<p>I have never been this lazy in my life, and I love it!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<p><img data-src="img/cardinal-virtue.png" data-fig-align="left" alt="Cardinal Virtue" height="250"> <img data-src="img/captain-columbus.png" data-fig-align="center" alt="Captain Columbus" height="250"> <img data-src="img/o-go.png" data-fig-align="right" alt="Ohio Gosaimasu" height="250"></p>
<p>https://github.com/catherinedevlin/talks</p>
<p><span class="citation" data-cites="catherinedevlin">@catherinedevlin</span><span class="citation" data-cites="tech.lgbt">@tech.lgbt</span></p>
<div class="footer footer-default">
<p>https://github.com/catherinedevlin/talks/</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="database-superpowers_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="database-superpowers_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="database-superpowers_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="database-superpowers_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="database-superpowers_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="database-superpowers_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="database-superpowers_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="database-superpowers_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="database-superpowers_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="database-superpowers_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>